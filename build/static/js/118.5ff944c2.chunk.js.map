{"version":3,"file":"static/js/118.5ff944c2.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/Clear.js","../node_modules/@mui/icons-material/Upload.js","../node_modules/@mui/material/internal/svg-icons/Cancel.js","../node_modules/@mui/material/Chip/chipClasses.js","../node_modules/@mui/material/Chip/Chip.js","../node_modules/@mui/material/DialogActions/dialogActionsClasses.js","../node_modules/@mui/material/DialogActions/DialogActions.js","../node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js","../node_modules/@mui/material/DialogContentText/DialogContentText.js","../node_modules/@mui/material/DialogContent/dialogContentClasses.js","../node_modules/@mui/material/DialogContent/DialogContent.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/use-sync-external-store/shim/with-selector.js","../node_modules/@reactflow/core/node_modules/zustand/esm/vanilla.mjs","../node_modules/@reactflow/core/node_modules/zustand/esm/traditional.mjs","../node_modules/@reactflow/core/node_modules/zustand/esm/shallow.mjs","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/@reactflow/core/dist/esm/index.mjs","../node_modules/@reactflow/node-resizer/dist/esm/index.mjs","../node_modules/classcat/index.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/window.js","../node_modules/read-excel-file/source/xml/xmlBrowser.js","../node_modules/fflate/esm/browser.js","../node_modules/read-excel-file/source/read/unpackXlsxFileBrowser.js","../node_modules/read-excel-file/source/xml/dom.js","../node_modules/read-excel-file/source/xml/xlsx.js","../node_modules/read-excel-file/source/read/parseProperties.js","../node_modules/read-excel-file/source/read/parseFilePaths.js","../node_modules/read-excel-file/source/read/parseStyles.js","../node_modules/read-excel-file/source/read/parseDate.js","../node_modules/read-excel-file/source/read/isDateTimestamp.js","../node_modules/read-excel-file/source/read/parseCellValue.js","../node_modules/read-excel-file/source/read/coordinates.js","../node_modules/read-excel-file/source/read/parseCell.js","../node_modules/read-excel-file/source/read/parseCells.js","../node_modules/read-excel-file/source/read/parseDimensions.js","../node_modules/read-excel-file/source/read/getData.js","../node_modules/read-excel-file/source/read/dropEmptyRows.js","../node_modules/read-excel-file/source/read/dropEmptyColumns.js","../node_modules/read-excel-file/source/read/readXlsx.js","../node_modules/read-excel-file/source/read/parseSharedStrings.js","../node_modules/read-excel-file/source/read/parseSheet.js","../node_modules/read-excel-file/source/types/InvalidError.js","../node_modules/read-excel-file/source/types/Number.js","../node_modules/read-excel-file/source/types/String.js","../node_modules/read-excel-file/source/types/Boolean.js","../node_modules/read-excel-file/source/read/schema/convertToJson.js","../node_modules/read-excel-file/source/types/Date.js","../node_modules/read-excel-file/source/read/schema/convertMapToSchema.js","../node_modules/read-excel-file/source/read/readXlsxFileContents.js","../node_modules/read-excel-file/source/read/readXlsxFileBrowser.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Upload');\nexports.default = _default;","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getChipUtilityClass(slot) {\n  return generateUtilityClass('MuiChip', slot);\n}\nconst chipClasses = generateUtilityClasses('MuiChip', ['root', 'sizeSmall', 'sizeMedium', 'colorError', 'colorInfo', 'colorPrimary', 'colorSecondary', 'colorSuccess', 'colorWarning', 'disabled', 'clickable', 'clickableColorPrimary', 'clickableColorSecondary', 'deletable', 'deletableColorPrimary', 'deletableColorSecondary', 'outlined', 'filled', 'outlinedPrimary', 'outlinedSecondary', 'filledPrimary', 'filledSecondary', 'avatar', 'avatarSmall', 'avatarMedium', 'avatarColorPrimary', 'avatarColorSecondary', 'icon', 'iconSmall', 'iconMedium', 'iconColorPrimary', 'iconColorSecondary', 'label', 'labelSmall', 'labelMedium', 'deleteIcon', 'deleteIconSmall', 'deleteIconMedium', 'deleteIconColorPrimary', 'deleteIconColorSecondary', 'deleteIconOutlinedColorPrimary', 'deleteIconOutlinedColorSecondary', 'deleteIconFilledColorPrimary', 'deleteIconFilledColorSecondary', 'focusVisible']);\nexport default chipClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"avatar\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\", \"tabIndex\", \"skipFocusWhenDisabled\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport { alpha } from '@mui/system';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport chipClasses, { getChipUtilityClass } from './chipClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disabled,\n    size,\n    color,\n    iconColor,\n    onDelete,\n    clickable,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, disabled && 'disabled', `size${capitalize(size)}`, `color${capitalize(color)}`, clickable && 'clickable', clickable && `clickableColor${capitalize(color)}`, onDelete && 'deletable', onDelete && `deletableColor${capitalize(color)}`, `${variant}${capitalize(color)}`],\n    label: ['label', `label${capitalize(size)}`],\n    avatar: ['avatar', `avatar${capitalize(size)}`, `avatarColor${capitalize(color)}`],\n    icon: ['icon', `icon${capitalize(size)}`, `iconColor${capitalize(iconColor)}`],\n    deleteIcon: ['deleteIcon', `deleteIcon${capitalize(size)}`, `deleteIconColor${capitalize(color)}`, `deleteIcon${capitalize(variant)}Color${capitalize(color)}`]\n  };\n  return composeClasses(slots, getChipUtilityClass, classes);\n};\nconst ChipRoot = styled('div', {\n  name: 'MuiChip',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      color,\n      iconColor,\n      clickable,\n      onDelete,\n      size,\n      variant\n    } = ownerState;\n    return [{\n      [`& .${chipClasses.avatar}`]: styles.avatar\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatar${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.avatar}`]: styles[`avatarColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles.icon\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`icon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.icon}`]: styles[`iconColor${capitalize(iconColor)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles.deleteIcon\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(size)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIconColor${capitalize(color)}`]\n    }, {\n      [`& .${chipClasses.deleteIcon}`]: styles[`deleteIcon${capitalize(variant)}Color${capitalize(color)}`]\n    }, styles.root, styles[`size${capitalize(size)}`], styles[`color${capitalize(color)}`], clickable && styles.clickable, clickable && color !== 'default' && styles[`clickableColor${capitalize(color)})`], onDelete && styles.deletable, onDelete && color !== 'default' && styles[`deletableColor${capitalize(color)}`], styles[variant], styles[`${variant}${capitalize(color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const textColor = theme.palette.mode === 'light' ? theme.palette.grey[700] : theme.palette.grey[300];\n  return _extends({\n    maxWidth: '100%',\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.pxToRem(13),\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 32,\n    color: (theme.vars || theme).palette.text.primary,\n    backgroundColor: (theme.vars || theme).palette.action.selected,\n    borderRadius: 32 / 2,\n    whiteSpace: 'nowrap',\n    transition: theme.transitions.create(['background-color', 'box-shadow']),\n    // reset cursor explicitly in case ButtonBase is used\n    cursor: 'unset',\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    textDecoration: 'none',\n    border: 0,\n    // Remove `button` border\n    padding: 0,\n    // Remove `button` padding\n    verticalAlign: 'middle',\n    boxSizing: 'border-box',\n    [`&.${chipClasses.disabled}`]: {\n      opacity: (theme.vars || theme).palette.action.disabledOpacity,\n      pointerEvents: 'none'\n    },\n    [`& .${chipClasses.avatar}`]: {\n      marginLeft: 5,\n      marginRight: -6,\n      width: 24,\n      height: 24,\n      color: theme.vars ? theme.vars.palette.Chip.defaultAvatarColor : textColor,\n      fontSize: theme.typography.pxToRem(12)\n    },\n    [`& .${chipClasses.avatarColorPrimary}`]: {\n      color: (theme.vars || theme).palette.primary.contrastText,\n      backgroundColor: (theme.vars || theme).palette.primary.dark\n    },\n    [`& .${chipClasses.avatarColorSecondary}`]: {\n      color: (theme.vars || theme).palette.secondary.contrastText,\n      backgroundColor: (theme.vars || theme).palette.secondary.dark\n    },\n    [`& .${chipClasses.avatarSmall}`]: {\n      marginLeft: 4,\n      marginRight: -4,\n      width: 18,\n      height: 18,\n      fontSize: theme.typography.pxToRem(10)\n    },\n    [`& .${chipClasses.icon}`]: _extends({\n      marginLeft: 5,\n      marginRight: -6\n    }, ownerState.size === 'small' && {\n      fontSize: 18,\n      marginLeft: 4,\n      marginRight: -4\n    }, ownerState.iconColor === ownerState.color && _extends({\n      color: theme.vars ? theme.vars.palette.Chip.defaultIconColor : textColor\n    }, ownerState.color !== 'default' && {\n      color: 'inherit'\n    })),\n    [`& .${chipClasses.deleteIcon}`]: _extends({\n      WebkitTapHighlightColor: 'transparent',\n      color: theme.vars ? `rgba(${theme.vars.palette.text.primaryChannel} / 0.26)` : alpha(theme.palette.text.primary, 0.26),\n      fontSize: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: theme.vars ? `rgba(${theme.vars.palette.text.primaryChannel} / 0.4)` : alpha(theme.palette.text.primary, 0.4)\n      }\n    }, ownerState.size === 'small' && {\n      fontSize: 16,\n      marginRight: 4,\n      marginLeft: -4\n    }, ownerState.color !== 'default' && {\n      color: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].contrastTextChannel} / 0.7)` : alpha(theme.palette[ownerState.color].contrastText, 0.7),\n      '&:hover, &:active': {\n        color: (theme.vars || theme).palette[ownerState.color].contrastText\n      }\n    })\n  }, ownerState.size === 'small' && {\n    height: 24\n  }, ownerState.color !== 'default' && {\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n    color: (theme.vars || theme).palette[ownerState.color].contrastText\n  }, ownerState.onDelete && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, ownerState.onDelete && ownerState.color !== 'default' && {\n    [`&.${chipClasses.focusVisible}`]: {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark\n    }\n  });\n}, ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.clickable && {\n  userSelect: 'none',\n  WebkitTapHighlightColor: 'transparent',\n  cursor: 'pointer',\n  '&:hover': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  },\n  '&:active': {\n    boxShadow: (theme.vars || theme).shadows[1]\n  }\n}, ownerState.clickable && ownerState.color !== 'default' && {\n  [`&:hover, &.${chipClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].dark\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'outlined' && {\n  backgroundColor: 'transparent',\n  border: theme.vars ? `1px solid ${theme.vars.palette.Chip.defaultBorder}` : `1px solid ${theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[700]}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: (theme.vars || theme).palette.action.hover\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`& .${chipClasses.avatar}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.avatarSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.icon}`]: {\n    marginLeft: 4\n  },\n  [`& .${chipClasses.iconSmall}`]: {\n    marginLeft: 2\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    marginRight: 5\n  },\n  [`& .${chipClasses.deleteIconSmall}`]: {\n    marginRight: 3\n  }\n}, ownerState.variant === 'outlined' && ownerState.color !== 'default' && {\n  color: (theme.vars || theme).palette[ownerState.color].main,\n  border: `1px solid ${theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.7)` : alpha(theme.palette[ownerState.color].main, 0.7)}`,\n  [`&.${chipClasses.clickable}:hover`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity)\n  },\n  [`&.${chipClasses.focusVisible}`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.focusOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.focusOpacity)\n  },\n  [`& .${chipClasses.deleteIcon}`]: {\n    color: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.7)` : alpha(theme.palette[ownerState.color].main, 0.7),\n    '&:hover, &:active': {\n      color: (theme.vars || theme).palette[ownerState.color].main\n    }\n  }\n}));\nconst ChipLabel = styled('span', {\n  name: 'MuiChip',\n  slot: 'Label',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      size\n    } = ownerState;\n    return [styles.label, styles[`label${capitalize(size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  paddingLeft: 12,\n  paddingRight: 12,\n  whiteSpace: 'nowrap'\n}, ownerState.variant === 'outlined' && {\n  paddingLeft: 11,\n  paddingRight: 11\n}, ownerState.size === 'small' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}, ownerState.size === 'small' && ownerState.variant === 'outlined' && {\n  paddingLeft: 7,\n  paddingRight: 7\n}));\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\nconst Chip = /*#__PURE__*/React.forwardRef(function Chip(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiChip'\n  });\n  const {\n      avatar: avatarProp,\n      className,\n      clickable: clickableProp,\n      color = 'default',\n      component: ComponentProp,\n      deleteIcon: deleteIconProp,\n      disabled = false,\n      icon: iconProp,\n      label,\n      onClick,\n      onDelete,\n      onKeyDown,\n      onKeyUp,\n      size = 'medium',\n      variant = 'filled',\n      tabIndex,\n      skipFocusWhenDisabled = false // TODO v6: Rename to `focusableWhenDisabled`.\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const chipRef = React.useRef(null);\n  const handleRef = useForkRef(chipRef, ref);\n  const handleDeleteIconClick = event => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n  const handleKeyDown = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // Will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n  const handleKeyUp = event => {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n  const clickable = clickableProp !== false && onClick ? true : clickableProp;\n  const component = clickable || onDelete ? ButtonBase : ComponentProp || 'div';\n  const ownerState = _extends({}, props, {\n    component,\n    disabled,\n    size,\n    color,\n    iconColor: /*#__PURE__*/React.isValidElement(iconProp) ? iconProp.props.color || color : color,\n    onDelete: !!onDelete,\n    clickable,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const moreProps = component === ButtonBase ? _extends({\n    component: ComponentProp || 'div',\n    focusVisibleClassName: classes.focusVisible\n  }, onDelete && {\n    disableRipple: true\n  }) : {};\n  let deleteIcon = null;\n  if (onDelete) {\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? ( /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon),\n      onClick: handleDeleteIconClick\n    })) : /*#__PURE__*/_jsx(CancelIcon, {\n      className: clsx(classes.deleteIcon),\n      onClick: handleDeleteIconClick\n    });\n  }\n  let avatar = null;\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className)\n    });\n  }\n  let icon = null;\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className)\n    });\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('MUI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n  return /*#__PURE__*/_jsxs(ChipRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    disabled: clickable && disabled ? true : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef,\n    tabIndex: skipFocusWhenDisabled && disabled ? -1 : tabIndex,\n    ownerState: ownerState\n  }, moreProps, other, {\n    children: [avatar || icon, /*#__PURE__*/_jsx(ChipLabel, {\n      className: clsx(classes.label),\n      ownerState: ownerState,\n      children: label\n    }), deleteIcon]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Chip.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The Avatar element to display.\n   */\n  avatar: PropTypes.element,\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the chip will appear clickable, and will raise when pressed,\n   * even if the onClick prop is not defined.\n   * If `false`, the chip will not appear clickable, even if onClick prop is defined.\n   * This can be used, for example,\n   * along with the component prop to indicate an anchor Chip is clickable.\n   * Note: this controls the UI and does not affect the onClick event.\n   */\n  clickable: PropTypes.bool,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'default'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Override the default delete icon element. Shown only if `onDelete` is set.\n   */\n  deleteIcon: PropTypes.element,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Icon element.\n   */\n  icon: PropTypes.element,\n  /**\n   * The content of the component.\n   */\n  label: PropTypes.node,\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n  /**\n   * Callback fired when the delete icon is clicked.\n   * If set, the delete icon will be shown.\n   */\n  onDelete: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * If `true`, allows the disabled chip to escape focus.\n   * If `false`, allows the disabled chip to receive focus.\n   * @default false\n   */\n  skipFocusWhenDisabled: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number,\n  /**\n   * The variant to use.\n   * @default 'filled'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string])\n} : void 0;\nexport default Chip;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogActions', slot);\n}\nconst dialogActionsClasses = generateUtilityClasses('MuiDialogActions', ['root', 'spacing']);\nexport default dialogActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disableSpacing\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogActionsUtilityClass } from './dialogActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getDialogActionsUtilityClass, classes);\n};\nconst DialogActionsRoot = styled('div', {\n  name: 'MuiDialogActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8,\n  justifyContent: 'flex-end',\n  flex: '0 0 auto'\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogActions'\n  });\n  const {\n      className,\n      disableSpacing = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogActions;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nconst dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Typography from '../Typography';\nimport { getDialogContentTextUtilityClass } from './dialogContentTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  const composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\nconst DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n  const {\n      className\n    } = props,\n    ownerState = _objectWithoutPropertiesLoose(props, _excluded);\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"text.secondary\",\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className)\n  }, props, {\n    classes: classes\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContentText;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogContentUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContent', slot);\n}\nconst dialogContentClasses = generateUtilityClasses('MuiDialogContent', ['root', 'dividers']);\nexport default dialogContentClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"dividers\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogContentUtilityClass } from './dialogContentClasses';\nimport dialogTitleClasses from '../DialogTitle/dialogTitleClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    dividers\n  } = ownerState;\n  const slots = {\n    root: ['root', dividers && 'dividers']\n  };\n  return composeClasses(slots, getDialogContentUtilityClass, classes);\n};\nconst DialogContentRoot = styled('div', {\n  name: 'MuiDialogContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.dividers && styles.dividers];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  flex: '1 1 auto',\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  overflowY: 'auto',\n  padding: '20px 24px'\n}, ownerState.dividers ? {\n  padding: '16px 24px',\n  borderTop: `1px solid ${(theme.vars || theme).palette.divider}`,\n  borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`\n} : {\n  [`.${dialogTitleClasses.root} + &`]: {\n    paddingTop: 0\n  }\n}));\nconst DialogContent = /*#__PURE__*/React.forwardRef(function DialogContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContent'\n  });\n  const {\n      className,\n      dividers = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    dividers\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContent.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Display the top and bottom dividers.\n   * @default false\n   */\n  dividers: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContent;","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\nimport { createStore } from 'zustand/vanilla';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStoreWithEqualityFn(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createWithEqualityFnImpl = (createState, defaultEqualityFn) => {\n  const api = createStore(createState);\n  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);\n  Object.assign(useBoundStoreWithEqualityFn, api);\n  return useBoundStoreWithEqualityFn;\n};\nconst createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;\n\nexport { createWithEqualityFn, useStoreWithEqualityFn };\n","function shallow$1(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar shallow = (objA, objB) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow$1(objA, objB);\n};\n\nexport { shallow as default, shallow$1 as shallow };\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import React, { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStoreWithEqualityFn, createWithEqualityFn } from 'zustand/traditional';\nimport { shallow } from 'zustand/shallow';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n    error012: (id) => `Node with id \"${id}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStoreWithEqualityFn(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (React.createElement(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest }, children));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (React.createElement(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro\" },\n        React.createElement(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\" }, \"React Flow\")));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (React.createElement(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest },\n        labelShowBg && (React.createElement(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })),\n        React.createElement(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle }, label),\n        children));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\nconst isMacOs = () => typeof navigator !== 'undefined' && navigator?.userAgent?.indexOf('Mac') >= 0;\n\nconst BaseEdge = ({ id, path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"path\", { id: id, style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }),\n        interactionWidth && (React.createElement(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })),\n        label && isNumeric(labelX) && isNumeric(labelY) ? (React.createElement(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const sourceGapOffset = { x: 0, y: 0 };\n    const targetGapOffset = { x: 0, y: 0 };\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        if (sourcePosition === targetPosition) {\n            const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n            // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n            if (diff <= offset) {\n                const gapOffset = Math.min(offset - 1, offset - diff);\n                if (sourceDir[dirAccessor] === currDir) {\n                    sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n                else {\n                    targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n            }\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n        const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n        const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n        const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n        // we want to place the label on the longest segment of the edge\n        if (maxXDistance >= maxYDistance) {\n            centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n            centerY = points[0].y;\n        }\n        else {\n            centerX = points[0].x;\n            centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n        }\n    }\n    const pathPoints = [\n        source,\n        { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n        ...points,\n        { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n        target,\n    ];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (React.createElement(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getNodesBounds = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\n// @deprecated Use `getNodesBounds`.\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    console.warn('[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds.');\n    return getNodesBounds(nodes, nodeOrigin);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\n// @deprecated Use `getViewportForBounds`.\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, padding);\n    console.warn('[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds');\n    return [x, y, zoom];\n};\nconst getViewportForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return { x, y, zoom: clampedZoom };\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n    // we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n    // because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n    const { x, y } = getEventPosition(event);\n    const domNodes = doc.elementsFromPoint(x, y);\n    const handleBelow = domNodes.find((el) => el.classList.contains('react-flow__handle'));\n    if (handleBelow) {\n        const handleNodeId = handleBelow.getAttribute('data-nodeid');\n        if (handleNodeId) {\n            const handleType = getHandleType(undefined, handleBelow);\n            const handleId = handleBelow.getAttribute('data-handleid');\n            const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n            if (validHandleResult) {\n                const handle = handles.find((h) => h.nodeId === handleNodeId && h.type === handleType && h.id === handleId);\n                return {\n                    handle: {\n                        id: handleId,\n                        type: handleType,\n                        nodeId: handleNodeId,\n                        x: handle?.x || pos.x,\n                        y: handle?.y || pos.y,\n                    },\n                    validHandleResult,\n                };\n            }\n        }\n    }\n    // if we couldn't find a handle below the mouse cursor we look for the closest distance based on the connectionRadius\n    let closestHandles = [];\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n        if (distance <= connectionRadius) {\n            const validHandleResult = validator(handle);\n            if (distance <= minDistance) {\n                if (distance < minDistance) {\n                    closestHandles = [{ handle, validHandleResult }];\n                }\n                else if (distance === minDistance) {\n                    // when multiple handles are on the same distance we collect all of them\n                    closestHandles.push({\n                        handle,\n                        validHandleResult,\n                    });\n                }\n                minDistance = distance;\n            }\n        }\n    });\n    if (!closestHandles.length) {\n        return { handle: null, validHandleResult: defaultResult() };\n    }\n    if (closestHandles.length === 1) {\n        return closestHandles[0];\n    }\n    const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n    const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === 'target');\n    // if multiple handles are layouted on top of each other we prefer the one with type = target and the one that is valid\n    return (closestHandles.find(({ handle, validHandleResult }) => hasTargetHandle ? handle.type === 'target' : (hasValidHandle ? validHandleResult.isValid : true)) || closestHandles[0]);\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\nconst defaultResult = () => ({\n    handleDomNode: null,\n    isValid: false,\n    connection: nullConnection,\n    endHandle: null,\n});\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleToCheck = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const result = {\n        ...defaultResult(),\n        handleDomNode: handleToCheck,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let closestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(event, doc, pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup, (handle) => isValidHandle(handle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc));\n        closestHandle = handle;\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        handleDomNode = validHandleResult.handleDomNode;\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        setState({\n            connectionPosition: closestHandle && isValid\n                ? rendererPointToPoint({\n                    x: closestHandle.x,\n                    y: closestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!closestHandle, isValid),\n            connectionEndHandle: validHandleResult.endHandle,\n        });\n        if (!closestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type), shallow);\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle({\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (React.createElement(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest }, children));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n        data?.label,\n        React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (React.createElement(React.Fragment, null,\n    data?.label,\n    React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (React.createElement(React.Fragment, null,\n    React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n    data?.label));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange.forEach((fn) => fn(params));\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return React.createElement(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, nodeDragThreshold, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useDirectStoreUpdater('nodeDragThreshold', nodeDragThreshold, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (React.createElement(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle }, ariaLiveMessage));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style },\n            \"Press enter or space to select a node.\",\n            !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.',\n            \" Press delete to remove it and escape to cancel.\",\n            ' '),\n        React.createElement(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style }, \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\"),\n        !disableKeyboardA11y && React.createElement(AriaLiveMessage, { rfId: rfId })));\n}\n\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilities. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { actInsideInputWithModifier: true }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        const doc = typeof document !== 'undefined' ? document : null;\n        const target = options?.target || doc;\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                // fix for Mac: when cmd key is pressed, keyup is not triggered for any other key, see: https://stackoverflow.com/questions/27380018/when-cmd-key-is-kept-pressed-keyup-is-not-triggered-for-any-other-key\n                if (event.key === 'Meta') {\n                    pressedKeys.current.clear();\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            target?.addEventListener('keydown', downHandler);\n            target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                target?.removeEventListener('keydown', downHandler);\n                target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            width: currInternals?.width,\n            height: currInternals?.height,\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            internals.parentNode = node.parentNode;\n            parentNodes[node.parentNode] = true;\n        }\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getNodesBounds(nodes, nodeOrigin);\n            const { x, y, zoom } = getViewportForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    screenToFlowPosition: (position) => position,\n    flowToScreenPosition: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                // @deprecated Use `screenToFlowPosition`.\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    console.warn('[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position');\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                screenToFlowPosition: (position) => {\n                    const { transform, snapToGrid, snapGrid, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const relativePosition = {\n                        x: position.x - domX,\n                        y: position.y - domY,\n                    };\n                    return pointToRendererPoint(relativePosition, transform, snapToGrid, snapGrid);\n                },\n                flowToScreenPosition: (position) => {\n                    const { transform, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const rendererPosition = rendererPointToPoint(position, transform);\n                    return {\n                        x: rendererPosition.x + domX,\n                        y: rendererPosition.y + domY,\n                    };\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nconst deleteKeyOptions = { actInsideInputWithModifier: false };\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, deleteKeyOptions);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst viewChanged = (prevViewport, eventTransform) => prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;\nconst eventToFlowTransform = (eventTransform) => ({\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst wheelDelta = (event) => {\n    const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    const isPanScrolling = useRef(false);\n    const panScrollTimeout = useRef();\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            d3ZoomInstance.wheelDelta(wheelDelta);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    const _isMacOs = isMacOs();\n                    // macos sets ctrlKey=true for pinch gesture on a trackpad\n                    if (event.ctrlKey && zoomOnPinch && _isMacOs) {\n                        const point = pointer(event);\n                        const pinchDelta = wheelDelta(event);\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        // @ts-ignore\n                        d3Zoom.scaleTo(d3Selection, zoom, point, event);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    // this enables vertical scrolling with shift + scroll on windows\n                    if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n                        deltaX = event.deltaY * deltaNormalize;\n                        deltaY = 0;\n                    }\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed, \n                    // @ts-ignore\n                    { internal: true });\n                    const nextViewport = eventToFlowTransform(d3Selection.property('__zoom'));\n                    const { onViewportChangeStart, onViewportChange, onViewportChangeEnd } = store.getState();\n                    clearTimeout(panScrollTimeout.current);\n                    // for pan on scroll we need to handle the event calls on our own\n                    // we can't use the start, zoom and end events from d3-zoom\n                    // because start and move gets called on every scroll event and not once at the beginning\n                    if (!isPanScrolling.current) {\n                        isPanScrolling.current = true;\n                        onMoveStart?.(event, nextViewport);\n                        onViewportChangeStart?.(nextViewport);\n                    }\n                    if (isPanScrolling.current) {\n                        onMove?.(event, nextViewport);\n                        onViewportChange?.(nextViewport);\n                        panScrollTimeout.current = setTimeout(() => {\n                            onMoveEnd?.(event, nextViewport);\n                            onViewportChangeEnd?.(nextViewport);\n                            isPanScrolling.current = false;\n                        }, 150);\n                    }\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n        onMoveStart,\n        onMove,\n        onMoveEnd,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent?.button;\n                const { onViewportChangeStart } = store.getState();\n                const flowTransform = eventToFlowTransform(event.transform);\n                isZoomingOrPanning.current = true;\n                prevTransform.current = flowTransform;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                onViewportChangeStart?.(flowTransform);\n                onMoveStart?.(event.sourceEvent, flowTransform);\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if ((onMove || onViewportChange) && !event.sourceEvent?.internal) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if ((panOnDrag === true || (Array.isArray(panOnDrag) && panOnDrag.includes(1))) &&\n                    event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) &&\n                    (event.type !== 'wheel' || (panOnScroll && event.type === 'wheel' && !zoomActivationKeyPressed))) {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (React.createElement(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle }, children));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\n/**\n * The user selection rectangle gets displayed when a user drags the mouse while pressing shift\n */\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (React.createElement(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle },\n        children,\n        React.createElement(UserSelection, null)));\n});\nPane.displayName = 'Pane';\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n        expandParent: n.expandParent,\n    }));\n}\nfunction clampNodeExtent(node, extent) {\n    if (!extent || extent === 'parent') {\n        return extent;\n    }\n    return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    const clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);\n    let currentExtent = clampedNodeExtent;\n    if (node.extent === 'parent' && !node.expandParent) {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = clampedNodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode && node.extent !== 'parent') {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent && currentExtent !== 'parent'\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            if (node) {\n                handler(event, { ...node });\n            }\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals, onError } = store.getState();\n    const node = nodeInternals.get(id);\n    if (!node) {\n        onError?.('012', errorMessages['error012'](id));\n        return;\n    }\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node], edges: [] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const dragStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };\n                if (dragItems.current.length > 1 && nodeExtent) {\n                    const rect = getNodesBounds(dragItems.current, nodeOrigin);\n                    nodesBox = rectToBox(rect);\n                }\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    // if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n                    // based on its position so that the node stays at it's position relative to the selection.\n                    const adjustedNodeExtent = [\n                        [nodeExtent[0][0], nodeExtent[0][1]],\n                        [nodeExtent[1][0], nodeExtent[1][1]],\n                    ];\n                    if (dragItems.current.length > 1 && nodeExtent && !n.extent) {\n                        adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n                        adjustedNodeExtent[1][0] = n.positionAbsolute.x + (n.width ?? 0) - nodesBox.x2 + nodeExtent[1][0];\n                        adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n                        adjustedNodeExtent[1][1] = n.positionAbsolute.y + (n.height ?? 0) - nodesBox.y2 + nodeExtent[1][1];\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a change\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    if (panBy({ x: xMovement, y: yMovement })) {\n                        updateNodes(lastPos.current);\n                    }\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            const startDrag = (event) => {\n                const { nodeInternals, multiSelectionActive, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                dragStarted.current = true;\n                const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {\n                    if (!nodeInternals.get(nodeId)?.selected) {\n                        // we need to reset selected nodes when selectNodesOnDrag=false\n                        unselectNodesAndEdges();\n                    }\n                }\n                if (nodeId && isSelectable && selectNodesOnDrag) {\n                    handleNodeClick({\n                        id: nodeId,\n                        store,\n                        nodeRef: nodeRef,\n                    });\n                }\n                const pointerPos = getPointerPosition(event);\n                lastPos.current = pointerPos;\n                dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                if (onStart && dragItems.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onStart(event.sourceEvent, currentNode, nodes);\n                }\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { domNode, nodeDragThreshold } = store.getState();\n                    if (nodeDragThreshold === 0) {\n                        startDrag(event);\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag, nodeDragThreshold } = store.getState();\n                    if (!autoPanStarted.current && dragStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    if (!dragStarted.current) {\n                        const x = pointerPos.xSnapped - (lastPos?.current?.x ?? 0);\n                        const y = pointerPos.ySnapped - (lastPos?.current?.y ?? 0);\n                        const distance = Math.sqrt(x * x + y * y);\n                        if (distance > nodeDragThreshold) {\n                            startDrag(event);\n                        }\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current &&\n                        dragStarted.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    if (!dragStarted.current) {\n                        return;\n                    }\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    dragStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            const { nodeDragThreshold } = store.getState();\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable || nodeDragThreshold > 0)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                if (node) {\n                    onClick(event, { ...node });\n                }\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                resizeObserver?.observe(currNode);\n                return () => resizeObserver?.unobserve(currNode);\n            }\n        }, [hidden]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel },\n            React.createElement(Provider, { value: id },\n                React.createElement(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }))));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\n/**\n * The nodes selection rectangle gets displayed when a user\n * made a selection with on or several nodes\n */\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getNodesBounds(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (React.createElement(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        } },\n        React.createElement(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } })));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll: _panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const panOnScroll = panActivationKeyPressed || _panOnScroll;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (React.createElement(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName },\n        React.createElement(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode },\n            children,\n            nodesSelectionActive && (React.createElement(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y })))));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (React.createElement(\"div\", { className: \"react-flow__nodes\", style: containerStyle }, nodes.map((node) => {\n        let nodeType = node.type || 'default';\n        if (!props.nodeTypes[nodeType]) {\n            onError?.('003', errorMessages['error003'](nodeType));\n            nodeType = 'default';\n        }\n        const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n        const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n        const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n        const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n        const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n        const clampedPosition = props.nodeExtent\n            ? clampPosition(node.positionAbsolute, props.nodeExtent)\n            : node.positionAbsolute;\n        const posX = clampedPosition?.x ?? 0;\n        const posY = clampedPosition?.y ?? 0;\n        const posOrigin = getPositionWithOrigin({\n            x: posX,\n            y: posY,\n            width: node.width ?? 0,\n            height: node.height ?? 0,\n            origin: props.nodeOrigin,\n        });\n        return (React.createElement(NodeComponent, { key: node.id, id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel }));\n    })));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (React.createElement(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges, unselectNodesAndEdges, multiSelectionActive } = store.getState();\n            const edge = edges.find((e) => e.id === id);\n            if (!edge) {\n                return;\n            }\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                if (edge.selected && multiSelectionActive) {\n                    unselectNodesAndEdges({ nodes: [], edges: [edge] });\n                    edgeRef.current?.blur();\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n            if (onClick) {\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (React.createElement(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : 'img', \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef },\n            !updating && (React.createElement(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })),\n            isUpdatable && (React.createElement(React.Fragment, null,\n                (isUpdatable === 'source' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })),\n                (isUpdatable === 'target' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))))));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            const targetNode = nodeInternals.get(edge.target);\n            const sourceNode = nodeInternals.get(edge.source);\n            const edgeOrConnectedNodeSelected = edge.selected || targetNode?.selected || sourceNode?.selected;\n            const selectedZIndex = Math.max(sourceNode?.[internalsSymbol]?.z || 0, targetNode?.[internalsSymbol]?.z || 0, 1000);\n            z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            fill: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (React.createElement(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\" },\n        React.createElement(Symbol, { color: color, strokeWidth: strokeWidth })));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (React.createElement(\"defs\", null, markers.map((marker) => (React.createElement(Marker, { id: marker.id, key: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient })))));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        edgeTree.map(({ level, edges, isMaxLevel }) => (React.createElement(\"svg\", { key: level, style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\" },\n            isMaxLevel && React.createElement(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }),\n            React.createElement(\"g\", null, edges.map((edge) => {\n                const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                if (!sourceIsValid || !targetIsValid) {\n                    return null;\n                }\n                let edgeType = edge.type || 'default';\n                if (!edgeTypes[edgeType]) {\n                    onError?.('011', errorMessages['error011'](edgeType));\n                    edgeType = 'default';\n                }\n                const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                // when connection type is loose we can define all handles as sources and connect source -> source\n                const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                    ? targetHandleBounds.target\n                    : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                const sourcePosition = sourceHandle?.position || Position.Bottom;\n                const targetPosition = targetHandle?.position || Position.Top;\n                const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                    (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                if (!sourceHandle || !targetHandle) {\n                    onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                    return null;\n                }\n                const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                return (React.createElement(EdgeComponent, { key: edge.id, id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }));\n            }))))),\n        children));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (React.createElement(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform } }, children));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (React.createElement(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return React.createElement(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (React.createElement(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\" },\n        React.createElement(\"g\", { className: cc(['react-flow__connection', connectionStatus]) },\n            React.createElement(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }))));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const store = useStoreApi();\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                store.getState().onError?.('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    useOnInitHandler(onInit);\n    return (React.createElement(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y },\n        React.createElement(Viewport, null,\n            React.createElement(EdgeRenderer$1, { edgeTypes: edgeTypesWrapped, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId },\n                React.createElement(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle })),\n            React.createElement(\"div\", { className: \"react-flow__edgelabel-renderer\" }),\n            React.createElement(NodeRenderer$1, { nodeTypes: nodeTypesWrapped, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId }))));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    nodeDragThreshold: 0,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    onSelectionChange: [],\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createWithEqualityFn((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return false;\n        }\n        const nextTransform = zoomIdentity\n            .translate(transform[0] + delta.x, transform[1] + delta.y)\n            .scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n        const transformChanged = transform[0] !== constrainedTransform.x ||\n            transform[1] !== constrainedTransform.y ||\n            transform[2] !== constrainedTransform.k;\n        return transformChanged;\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}), Object.is);\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return React.createElement(Provider$1, { value: storeRef.current }, children);\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return React.createElement(React.Fragment, null, children);\n    }\n    return React.createElement(ReactFlowProvider, null, children);\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = isMacOs() ? 'Meta' : 'Control', zoomActivationKeyCode = isMacOs() ? 'Meta' : 'Control', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, nodeDragThreshold, ...rest }, ref) => {\n    const rfId = id || '1';\n    return (React.createElement(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id },\n        React.createElement(Wrapper, null,\n            React.createElement(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypes, edgeTypes: edgeTypes, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }),\n            React.createElement(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection, nodeDragThreshold: nodeDragThreshold }),\n            React.createElement(Wrapper$1, { onSelectionChange: onSelectionChange }),\n            children,\n            React.createElement(Attribution, { proOptions: proOptions, position: attributionPosition }),\n            React.createElement(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y }))));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const updateIds = Array.isArray(id) ? id : [id];\n        const updates = updateIds.reduce((res, updateId) => {\n            const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${updateId}\"]`);\n            if (nodeElement) {\n                res.push({ id: updateId, nodeElement, forceUpdate: true });\n            }\n            return res;\n        }, []);\n        requestAnimationFrame(() => updateNodeDimensions(updates));\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector, shallow);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector, shallow);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        const nextSelectionChangeHandlers = [...store.getState().onSelectionChange, onChange];\n        store.setState({ onSelectionChange: nextSelectionChangeHandlers });\n        return () => {\n            const nextHandlers = store.getState().onSelectionChange.filter((fn) => fn !== onChange);\n            store.setState({ onSelectionChange: nextHandlers });\n        };\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getNodesBounds, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, getViewportForBounds, handleParentExpand, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","import React, { memo, useRef, useEffect } from 'react';\nimport cc from 'classcat';\nimport { drag } from 'd3-drag';\nimport { select } from 'd3-selection';\nimport { useNodeId, useStoreApi, useGetPointerPosition, clamp } from '@reactflow/core';\n\nvar ResizeControlVariant;\n(function (ResizeControlVariant) {\n    ResizeControlVariant[\"Line\"] = \"line\";\n    ResizeControlVariant[\"Handle\"] = \"handle\";\n})(ResizeControlVariant || (ResizeControlVariant = {}));\n\n// returns an array of two numbers (0, 1 or -1) representing the direction of the resize\n// 0 = no change, 1 = increase, -1 = decrease\nfunction getDirection({ width, prevWidth, height, prevHeight, invertX, invertY }) {\n    const deltaWidth = width - prevWidth;\n    const deltaHeight = height - prevHeight;\n    const direction = [deltaWidth > 0 ? 1 : deltaWidth < 0 ? -1 : 0, deltaHeight > 0 ? 1 : deltaHeight < 0 ? -1 : 0];\n    if (deltaWidth && invertX) {\n        direction[0] = direction[0] * -1;\n    }\n    if (deltaHeight && invertY) {\n        direction[1] = direction[1] * -1;\n    }\n    return direction;\n}\n\nconst initPrevValues = { width: 0, height: 0, x: 0, y: 0 };\nconst initStartValues = {\n    ...initPrevValues,\n    pointerX: 0,\n    pointerY: 0,\n    aspectRatio: 1,\n};\nfunction ResizeControl({ nodeId, position, variant = ResizeControlVariant.Handle, className, style = {}, children, color, minWidth = 10, minHeight = 10, maxWidth = Number.MAX_VALUE, maxHeight = Number.MAX_VALUE, keepAspectRatio = false, shouldResize, onResizeStart, onResize, onResizeEnd, }) {\n    const contextNodeId = useNodeId();\n    const id = typeof nodeId === 'string' ? nodeId : contextNodeId;\n    const store = useStoreApi();\n    const resizeControlRef = useRef(null);\n    const startValues = useRef(initStartValues);\n    const prevValues = useRef(initPrevValues);\n    const getPointerPosition = useGetPointerPosition();\n    const defaultPosition = variant === ResizeControlVariant.Line ? 'right' : 'bottom-right';\n    const controlPosition = position ?? defaultPosition;\n    useEffect(() => {\n        if (!resizeControlRef.current || !id) {\n            return;\n        }\n        const selection = select(resizeControlRef.current);\n        const enableX = controlPosition.includes('right') || controlPosition.includes('left');\n        const enableY = controlPosition.includes('bottom') || controlPosition.includes('top');\n        const invertX = controlPosition.includes('left');\n        const invertY = controlPosition.includes('top');\n        const dragHandler = drag()\n            .on('start', (event) => {\n            const node = store.getState().nodeInternals.get(id);\n            const { xSnapped, ySnapped } = getPointerPosition(event);\n            prevValues.current = {\n                width: node?.width ?? 0,\n                height: node?.height ?? 0,\n                x: node?.position.x ?? 0,\n                y: node?.position.y ?? 0,\n            };\n            startValues.current = {\n                ...prevValues.current,\n                pointerX: xSnapped,\n                pointerY: ySnapped,\n                aspectRatio: prevValues.current.width / prevValues.current.height,\n            };\n            onResizeStart?.(event, { ...prevValues.current });\n        })\n            .on('drag', (event) => {\n            const { nodeInternals, triggerNodeChanges } = store.getState();\n            const { xSnapped, ySnapped } = getPointerPosition(event);\n            const node = nodeInternals.get(id);\n            if (node) {\n                const changes = [];\n                const { pointerX: startX, pointerY: startY, width: startWidth, height: startHeight, x: startNodeX, y: startNodeY, aspectRatio, } = startValues.current;\n                const { x: prevX, y: prevY, width: prevWidth, height: prevHeight } = prevValues.current;\n                const distX = Math.floor(enableX ? xSnapped - startX : 0);\n                const distY = Math.floor(enableY ? ySnapped - startY : 0);\n                let width = clamp(startWidth + (invertX ? -distX : distX), minWidth, maxWidth);\n                let height = clamp(startHeight + (invertY ? -distY : distY), minHeight, maxHeight);\n                if (keepAspectRatio) {\n                    const nextAspectRatio = width / height;\n                    const isDiagonal = enableX && enableY;\n                    const isHorizontal = enableX && !enableY;\n                    const isVertical = enableY && !enableX;\n                    width = (nextAspectRatio <= aspectRatio && isDiagonal) || isVertical ? height * aspectRatio : width;\n                    height = (nextAspectRatio > aspectRatio && isDiagonal) || isHorizontal ? width / aspectRatio : height;\n                    if (width >= maxWidth) {\n                        width = maxWidth;\n                        height = maxWidth / aspectRatio;\n                    }\n                    else if (width <= minWidth) {\n                        width = minWidth;\n                        height = minWidth / aspectRatio;\n                    }\n                    if (height >= maxHeight) {\n                        height = maxHeight;\n                        width = maxHeight * aspectRatio;\n                    }\n                    else if (height <= minHeight) {\n                        height = minHeight;\n                        width = minHeight * aspectRatio;\n                    }\n                }\n                const isWidthChange = width !== prevWidth;\n                const isHeightChange = height !== prevHeight;\n                if (invertX || invertY) {\n                    const x = invertX ? startNodeX - (width - startWidth) : startNodeX;\n                    const y = invertY ? startNodeY - (height - startHeight) : startNodeY;\n                    // only transform the node if the width or height changes\n                    const isXPosChange = x !== prevX && isWidthChange;\n                    const isYPosChange = y !== prevY && isHeightChange;\n                    if (isXPosChange || isYPosChange) {\n                        const positionChange = {\n                            id: node.id,\n                            type: 'position',\n                            position: {\n                                x: isXPosChange ? x : prevX,\n                                y: isYPosChange ? y : prevY,\n                            },\n                        };\n                        changes.push(positionChange);\n                        prevValues.current.x = positionChange.position.x;\n                        prevValues.current.y = positionChange.position.y;\n                    }\n                }\n                if (isWidthChange || isHeightChange) {\n                    const dimensionChange = {\n                        id: id,\n                        type: 'dimensions',\n                        updateStyle: true,\n                        resizing: true,\n                        dimensions: {\n                            width: width,\n                            height: height,\n                        },\n                    };\n                    changes.push(dimensionChange);\n                    prevValues.current.width = width;\n                    prevValues.current.height = height;\n                }\n                if (changes.length === 0) {\n                    return;\n                }\n                const direction = getDirection({\n                    width: prevValues.current.width,\n                    prevWidth,\n                    height: prevValues.current.height,\n                    prevHeight,\n                    invertX,\n                    invertY,\n                });\n                const nextValues = { ...prevValues.current, direction };\n                const callResize = shouldResize?.(event, nextValues);\n                if (callResize === false) {\n                    return;\n                }\n                onResize?.(event, nextValues);\n                triggerNodeChanges(changes);\n            }\n        })\n            .on('end', (event) => {\n            const dimensionChange = {\n                id: id,\n                type: 'dimensions',\n                resizing: false,\n            };\n            onResizeEnd?.(event, { ...prevValues.current });\n            store.getState().triggerNodeChanges([dimensionChange]);\n        });\n        selection.call(dragHandler);\n        return () => {\n            selection.on('.drag', null);\n        };\n    }, [\n        id,\n        controlPosition,\n        minWidth,\n        minHeight,\n        maxWidth,\n        maxHeight,\n        keepAspectRatio,\n        getPointerPosition,\n        onResizeStart,\n        onResize,\n        onResizeEnd,\n    ]);\n    const positionClassNames = controlPosition.split('-');\n    const colorStyleProp = variant === ResizeControlVariant.Line ? 'borderColor' : 'backgroundColor';\n    const controlStyle = color ? { ...style, [colorStyleProp]: color } : style;\n    return (React.createElement(\"div\", { className: cc(['react-flow__resize-control', 'nodrag', ...positionClassNames, variant, className]), ref: resizeControlRef, style: controlStyle }, children));\n}\nvar ResizeControl$1 = memo(ResizeControl);\n\nconst handleControls = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\nconst lineControls = ['top', 'right', 'bottom', 'left'];\nfunction NodeResizer({ nodeId, isVisible = true, handleClassName, handleStyle, lineClassName, lineStyle, color, minWidth = 10, minHeight = 10, maxWidth = Number.MAX_VALUE, maxHeight = Number.MAX_VALUE, keepAspectRatio = false, shouldResize, onResizeStart, onResize, onResizeEnd, }) {\n    if (!isVisible) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        lineControls.map((c) => (React.createElement(ResizeControl$1, { key: c, className: lineClassName, style: lineStyle, nodeId: nodeId, position: c, variant: ResizeControlVariant.Line, color: color, minWidth: minWidth, minHeight: minHeight, maxWidth: maxWidth, maxHeight: maxHeight, onResizeStart: onResizeStart, keepAspectRatio: keepAspectRatio, shouldResize: shouldResize, onResize: onResize, onResizeEnd: onResizeEnd }))),\n        handleControls.map((c) => (React.createElement(ResizeControl$1, { key: c, className: handleClassName, style: handleStyle, nodeId: nodeId, position: c, color: color, minWidth: minWidth, minHeight: minHeight, maxWidth: maxWidth, maxHeight: maxHeight, onResizeStart: onResizeStart, keepAspectRatio: keepAspectRatio, shouldResize: shouldResize, onResize: onResize, onResizeEnd: onResizeEnd })))));\n}\n\nexport { ResizeControl$1 as NodeResizeControl, NodeResizer, ResizeControlVariant };\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","export default {\r\n\tcreateDocument(content) {\r\n\t\t// if (!content) {\r\n\t\t// \tthrow new Error('No *.xml content')\r\n\t\t// }\r\n\t\t// A weird bug: it won't parse XML unless it's trimmed.\r\n\t\t// https://github.com/catamphetamine/read-excel-file/issues/21\r\n\t\treturn new DOMParser().parseFromString(content.trim(), 'text/xml')\r\n\t}\r\n}","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    if (!sl || (st && st.f && !st.l))\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [et, 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[pos >> 3] = lst;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            // deopt when i > s - 3 - at end, deopt acceptable\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst && pos & 7)\n            pos = wfblk(w, pos + 1, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return [fnStr, td];\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    var _a;\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n        ch[id] = wcln(fns[m], fnStr, td_1);\n    }\n    var td = mrg({}, ch[id][1]);\n    return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gu8]; };\nvar bDflt = function () { return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zlv]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get u8\nvar gu8 = function (o) { return o && o.size && new u8(o.size); };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += d[10] | (d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return ((d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16) | (d[l - 1] << 24)) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + ((o.filename && (o.filename.length + 1)) || 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if (d[1] & 32)\n        err(6, 'invalid zlib data: preset dictionaries not supported');\n};\nfunction AsyncCmpStrm(opts, cb) {\n    if (!cb && typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n// zlib footer: -4 to -0 is Adler32\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (!cb && typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, !f), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.d = final;\n        this.p(chunk, final || false);\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an inflation stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Inflate(cb) {\n        this.s = {};\n        this.p = new u8(0);\n        this.ondata = cb;\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        var l = this.p.length;\n        var n = new u8(l + c.length);\n        n.set(this.p), n.set(c, l), this.p = n;\n    };\n    Inflate.prototype.c = function (final) {\n        this.d = this.s.i = final || false;\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.o, this.s);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous inflation stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncInflate(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, 0, function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gu8(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, out) {\n    return inflt(data, out);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        this.c.p(c);\n        this.l += c.length;\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a GUNZIP stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Gunzip(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var s = this.p.length > 3 ? gzs(this.p) : 4;\n            if (s >= this.p.length && !final)\n                return;\n            this.p = this.p.subarray(s), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 8)\n                err(6, 'invalid gzip data');\n            this.p = this.p.subarray(0, -8);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous GUNZIP stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncGunzip(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, 0, function () {\n            var strm = new Gunzip();\n            onmessage = astrm(strm);\n        }, 9);\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, out) {\n    return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        this.c.p(c);\n        var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates a Zlib decompression stream\n     * @param cb The callback to call whenever data is inflated\n     */\n    function Unzlib(cb) {\n        this.v = 1;\n        Inflate.call(this, cb);\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 2 && !final)\n                return;\n            this.p = this.p.subarray(2), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous Zlib decompression stream\n     * @param cb The callback to call whenever data is deflated\n     */\n    function AsyncUnzlib(cb) {\n        this.ondata = cb;\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, 0, function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gu8(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    /**\n     * Creates a decompression stream\n     * @param cb The callback to call whenever data is decompressed\n     */\n    function Decompress(cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_1 = this;\n                var cb = function () { _this_1.ondata.apply(_this_1, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(cb)\n                        : new this.Z(cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    /**\n   * Creates an asynchronous decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n    function AsyncDecompress(cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, out) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, out)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, out)\n            : unzlibSync(data, out);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return [r, slc(d, i - 1)];\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), ch = _a[0], np = _a[1];\n        if (final) {\n            if (np.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = np;\n        this.ondata(ch, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td)\n        return td.decode(dat);\n    else {\n        var _a = dutf8(dat), out = _a[0], ext = _a[1];\n        if (ext.length)\n            err(8);\n        return out;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >>> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this_1.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this_1.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this_1.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this_1.ondata(err, dat, final);\n                    _this_1.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_3 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    if (sc < 320000) {\n                        try {\n                            cbl(null, inflateSync(infl, new u8(su)));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","import { unzipSync, strFromU8 } from 'fflate'\r\n\r\n/**\r\n * Reads XLSX file in a browser.\r\n * @param  {(File|Blob|ArrayBuffer)} input - A `File` or an `ArrayBuffer`.\r\n * @return {Promise} Resolves to an object holding XLSX file entries.\r\n */\r\nexport default function unpackXlsxFile(input) {\r\n\tif (input instanceof File) {\r\n\t\treturn input.arrayBuffer().then(unpackXlsxArrayBuffer)\r\n\t}\r\n\tif (input instanceof Blob) {\r\n\t\treturn input.arrayBuffer().then(unpackXlsxArrayBuffer)\r\n\t}\r\n\treturn unpackXlsxArrayBuffer(input)\r\n}\r\n\r\n/**\r\n * Reads XLSX file in a browser from an `ArrayBuffer`.\r\n * @param  {ArrayBuffer} input\r\n * @return {Promise} Resolves to an object holding XLSX file entries.\r\n */\r\nfunction unpackXlsxArrayBuffer(arrayBuffer) {\r\n\tconst archive = new Uint8Array(arrayBuffer)\r\n\tconst contents = unzipSync(archive)\r\n\treturn Promise.resolve(getContents(contents))\r\n\t// return new Promise((resolve, reject) => {\r\n\t// \tunzip(archive, (error, contents) => {\r\n\t// \t\tif (error) {\r\n\t// \t\t\treturn reject(error)\r\n\t// \t\t}\r\n\t// \t\treturn resolve(getContents(contents))\r\n\t// \t})\r\n\t// })\r\n}\r\n\r\nfunction getContents(contents) {\r\n\tconst unzippedFiles = []\r\n\tfor (const key of Object.keys(contents)) {\r\n\t\tunzippedFiles[key] = strFromU8(contents[key])\r\n\t}\r\n\treturn unzippedFiles\r\n}","export function findChild(node, tagName) {\r\n\tlet i = 0\r\n\twhile (i < node.childNodes.length) {\r\n\t\tconst childNode = node.childNodes[i]\r\n\t\t// `nodeType: 1` means \"Element\".\r\n\t\t// https://www.w3schools.com/xml/prop_element_nodetype.asp\r\n\t\tif (childNode.nodeType === 1 && getTagName(childNode) === tagName) {\r\n\t\t\treturn childNode\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nexport function findChildren(node, tagName) {\r\n\tconst results = []\r\n\tlet i = 0\r\n\twhile (i < node.childNodes.length) {\r\n\t\tconst childNode = node.childNodes[i]\r\n\t\t// `nodeType: 1` means \"Element\".\r\n\t\t// https://www.w3schools.com/xml/prop_element_nodetype.asp\r\n\t\tif (childNode.nodeType === 1 && getTagName(childNode) === tagName) {\r\n\t\t\tresults.push(childNode)\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\treturn results\r\n}\r\n\r\nexport function forEach(node, tagName, func) {\r\n\t// if (typeof tagName === 'function') {\r\n\t// \tfunc = tagName\r\n\t// \ttagName = undefined\r\n\t// }\r\n\tlet i = 0\r\n\twhile (i < node.childNodes.length) {\r\n\t\tconst childNode = node.childNodes[i]\r\n\t\tif (tagName) {\r\n\t\t\t// `nodeType: 1` means \"Element\".\r\n\t\t\t// https://www.w3schools.com/xml/prop_element_nodetype.asp\r\n\t\t\tif (childNode.nodeType === 1 && getTagName(childNode) === tagName) {\r\n\t\t\t\tfunc(childNode, i)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfunc(childNode, i)\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nexport function map(node, tagName, func) {\r\n\tconst results = []\r\n\tforEach(node, tagName, (node, i) => {\r\n\t\tresults.push(func(node, i))\r\n\t})\r\n\treturn results\r\n}\r\n\r\nconst NAMESPACE_REG_EXP = /.+\\:/\r\nexport function getTagName(element) {\r\n\t// For some weird reason, if an element is declared as,\r\n\t// for example, `<x:sheets/>`, then its `.tagName` will be\r\n\t// \"x:sheets\" instead of just \"sheets\".\r\n\t// https://gitlab.com/catamphetamine/read-excel-file/-/issues/25\r\n\t// Its not clear how to tell it to ignore any namespaces\r\n\t// when getting `.tagName`, so just replacing anything\r\n\t// before a colon, if any.\r\n\treturn element.tagName.replace(NAMESPACE_REG_EXP, '')\r\n}\r\n\r\n// This function is only used for occasional debug messages.\r\nexport function getOuterXml(node) {\r\n\t// `nodeType: 1` means \"Element\".\r\n\t// https://www.w3schools.com/xml/prop_element_nodetype.asp\r\n\tif (node.nodeType !== 1) {\r\n\t\treturn node.textContent\r\n\t}\r\n\r\n  let xml = '<' + getTagName(node)\r\n\r\n  let j = 0\r\n  while (j < node.attributes.length) {\r\n    xml += ' ' + node.attributes[j].name + '=' + '\"' + node.attributes[j].value + '\"'\r\n    j++\r\n  }\r\n\r\n  xml += '>'\r\n\r\n  let i = 0\r\n  while (i < node.childNodes.length) {\r\n  \txml += getOuterXml(node.childNodes[i])\r\n    i++\r\n  }\r\n\r\n  xml += '</' + getTagName(node) + '>'\r\n\r\n  return xml\r\n}","import { findChild, findChildren, forEach, map, getTagName } from './dom.js'\r\n\r\n// Returns an array of cells,\r\n// each element being an XML DOM element representing a cell.\r\nexport function getCells(document) {\r\n  const worksheet = document.documentElement\r\n  const sheetData = findChild(worksheet, 'sheetData')\r\n\r\n  const cells = []\r\n  forEach(sheetData, 'row', (row) => {\r\n    forEach(row, 'c', (cell) => {\r\n      cells.push(cell)\r\n    })\r\n  })\r\n  return cells\r\n}\r\n\r\nexport function getMergedCells(document) {\r\n  const worksheet = document.documentElement\r\n  const mergedCells = findChild(worksheet, 'mergeCells')\r\n  const mergedCellsInfo = []\r\n  if (mergedCells) {\r\n    forEach(mergedCells, 'mergeCell', (mergedCell) => {\r\n      mergedCellsInfo.push(mergedCell.getAttribute('ref'))\r\n    })\r\n  }\r\n  return mergedCellsInfo\r\n}\r\n\r\nexport function getCellValue(document, node) {\r\n  return findChild(node, 'v')\r\n}\r\n\r\nexport function getCellInlineStringValue(document, node) {\r\n  if (\r\n    node.firstChild &&\r\n    getTagName(node.firstChild) === 'is' &&\r\n    node.firstChild.firstChild &&\r\n    getTagName(node.firstChild.firstChild) === 't'\r\n  ) {\r\n    return node.firstChild.firstChild.textContent\r\n  }\r\n}\r\n\r\nexport function getDimensions(document) {\r\n  const worksheet = document.documentElement\r\n  const dimensions = findChild(worksheet, 'dimension')\r\n  if (dimensions) {\r\n    return dimensions.getAttribute('ref')\r\n  }\r\n}\r\n\r\nexport function getBaseStyles(document) {\r\n  const styleSheet = document.documentElement\r\n  const cellStyleXfs = findChild(styleSheet, 'cellStyleXfs')\r\n  if (cellStyleXfs) {\r\n    return findChildren(cellStyleXfs, 'xf')\r\n  }\r\n  return []\r\n}\r\n\r\nexport function getCellStyles(document) {\r\n  const styleSheet = document.documentElement\r\n  const cellXfs = findChild(styleSheet, 'cellXfs')\r\n  if (!cellXfs) {\r\n    return []\r\n  }\r\n  return findChildren(cellXfs, 'xf')\r\n}\r\n\r\nexport function getNumberFormats(document) {\r\n  const styleSheet = document.documentElement\r\n  let numberFormats = []\r\n  const numFmts = findChild(styleSheet, 'numFmts')\r\n  if (numFmts) {\r\n    return findChildren(numFmts, 'numFmt')\r\n  }\r\n  return []\r\n}\r\n\r\nexport function getSharedStrings(document) {\r\n\t// An `<si/>` element can contain a `<t/>` (simplest case) or a set of `<r/>` (\"rich formatting\") elements having `<t/>`.\r\n\t//https://docs.microsoft.com/en-us/dotnet/api/documentformat.openxml.spreadsheet.sharedstringitem?redirectedfrom=MSDN&view=openxml-2.8.1\r\n\t//http://www.datypic.com/sc/ooxml/e-ssml_si-1.html\r\n\r\n  const sst = document.documentElement\r\n  return map(sst, 'si', string => {\r\n    const t = findChild(string, 't')\r\n    if (t) {\r\n      return t.textContent\r\n    }\r\n    let value = ''\r\n    forEach(string, 'r', (r) => {\r\n      value += findChild(r, 't').textContent\r\n    })\r\n    return value\r\n  })\r\n}\r\n\r\nexport function getWorkbookProperties(document) {\r\n  const workbook = document.documentElement\r\n  return findChild(workbook, 'workbookPr')\r\n}\r\n\r\nexport function getRelationships(document) {\r\n  const relationships = document.documentElement\r\n  return findChildren(relationships, 'Relationship')\r\n}\r\n\r\nexport function getSheets(document) {\r\n  const workbook = document.documentElement\r\n  const sheets = findChild(workbook, 'sheets')\r\n  return findChildren(sheets, 'sheet')\r\n}","import {\r\n  getWorkbookProperties,\r\n  getSheets\r\n} from '../xml/xlsx.js'\r\n\r\n// I guess `xl/workbook.xml` file should always be present inside the *.xlsx archive.\r\nexport default function parseProperties(content, xml) {\r\n  const book = xml.createDocument(content)\r\n\r\n  const properties = {};\r\n\r\n  // Read `<workbookPr/>` element to detect whether dates are 1900-based or 1904-based.\r\n  // https://support.microsoft.com/en-gb/help/214330/differences-between-the-1900-and-the-1904-date-system-in-excel\r\n  // http://webapp.docx4java.org/OnlineDemo/ecma376/SpreadsheetML/workbookPr.html\r\n\r\n  const workbookProperties = getWorkbookProperties(book)\r\n\r\n  if (workbookProperties && workbookProperties.getAttribute('date1904') === '1') {\r\n    properties.epoch1904 = true\r\n  }\r\n\r\n  // Get sheets info (indexes, names, if they're available).\r\n  // Example:\r\n  // <sheets>\r\n  //   <sheet\r\n  //     xmlns:ns=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"\r\n  //     name=\"Sheet1\"\r\n  //     sheetId=\"1\"\r\n  //     ns:id=\"rId3\"/>\r\n  // </sheets>\r\n  // http://www.datypic.com/sc/ooxml/e-ssml_sheet-1.html\r\n\r\n  properties.sheets = []\r\n\r\n  const addSheetInfo = (sheet) => {\r\n    if (sheet.getAttribute('name')) {\r\n      properties.sheets.push({\r\n        id: sheet.getAttribute('sheetId'),\r\n        name: sheet.getAttribute('name'),\r\n        relationId: sheet.getAttribute('r:id')\r\n      })\r\n    }\r\n  }\r\n\r\n  getSheets(book).forEach(addSheetInfo)\r\n\r\n  return properties;\r\n}","import {\r\n  getRelationships\r\n} from '../xml/xlsx.js'\r\n\r\n/**\r\n * Returns sheet file paths.\r\n * Seems that the correct place to look for the `sheetId` -> `filename` mapping\r\n * is `xl/_rels/workbook.xml.rels` file.\r\n * https://github.com/tidyverse/readxl/issues/104\r\n * @param  {string} content  `xl/_rels/workbook.xml.rels` file contents.\r\n * @param  {object} xml\r\n * @return {object}\r\n */\r\nexport default function parseFilePaths(content, xml) {\r\n  // Example:\r\n  // <Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\r\n  //   ...\r\n  //   <Relationship\r\n  //     Id=\"rId3\"\r\n  //     Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\"\r\n  //     Target=\"worksheets/sheet1.xml\"/>\r\n  // </Relationships>\r\n  const document = xml.createDocument(content)\r\n\r\n  const filePaths = {\r\n    sheets: {},\r\n    sharedStrings: undefined,\r\n    styles: undefined\r\n  }\r\n\r\n  const addFilePathInfo = (relationship) => {\r\n    const filePath = relationship.getAttribute('Target')\r\n    const fileType = relationship.getAttribute('Type')\r\n    switch (fileType) {\r\n      case 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles':\r\n        filePaths.styles = getFilePath(filePath)\r\n        break\r\n      case 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings':\r\n        filePaths.sharedStrings = getFilePath(filePath)\r\n        break\r\n      case 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet':\r\n        filePaths.sheets[relationship.getAttribute('Id')] = getFilePath(filePath)\r\n        break\r\n    }\r\n  }\r\n\r\n  getRelationships(document).forEach(addFilePathInfo)\r\n\r\n  // Seems like \"sharedStrings.xml\" is not required to exist.\r\n  // For example, when the spreadsheet doesn't contain any strings.\r\n  // https://github.com/catamphetamine/read-excel-file/issues/85\r\n  // if (!filePaths.sharedStrings) {\r\n  //   throw new Error('\"sharedStrings.xml\" file not found in the *.xlsx file')\r\n  // }\r\n\r\n  return filePaths\r\n}\r\n\r\nfunction getFilePath(path) {\r\n  // Normally, `path` is a relative path inside the ZIP archive,\r\n  // like \"worksheets/sheet1.xml\", or \"sharedStrings.xml\", or \"styles.xml\".\r\n  // There has been one weird case when file path was an absolute path,\r\n  // like \"/xl/worksheets/sheet1.xml\" (specifically for sheets):\r\n  // https://github.com/catamphetamine/read-excel-file/pull/95\r\n  // Other libraries (like `xlsx`) and software (like Google Docs)\r\n  // seem to support such absolute file paths, so this library does too.\r\n  if (path[0] === '/') {\r\n    return path.slice('/'.length)\r\n  }\r\n  // // Seems like a path could also be a URL.\r\n  // // http://officeopenxml.com/anatomyofOOXML-xlsx.php\r\n  // if (/^[a-z]+\\:\\/\\//.test(path)) {\r\n  //   return path\r\n  // }\r\n  return 'xl/' + path\r\n}","import {\r\n  getBaseStyles,\r\n  getCellStyles,\r\n  getNumberFormats\r\n} from '../xml/xlsx.js'\r\n\r\n// http://officeopenxml.com/SSstyles.php\r\n// Returns an array of cell styles.\r\n// A cell style index is its ID.\r\nexport default function parseStyles(content, xml) {\r\n  if (!content) {\r\n    return {}\r\n  }\r\n\r\n  // https://social.msdn.microsoft.com/Forums/sqlserver/en-US/708978af-b598-45c4-a598-d3518a5a09f0/howwhen-is-cellstylexfs-vs-cellxfs-applied-to-a-cell?forum=os_binaryfile\r\n  // https://www.office-forums.com/threads/cellxfs-cellstylexfs.2163519/\r\n  const doc = xml.createDocument(content)\r\n\r\n  const baseStyles = getBaseStyles(doc)\r\n    .map(parseCellStyle)\r\n\r\n  const numberFormats = getNumberFormats(doc)\r\n    .map(parseNumberFormatStyle)\r\n    .reduce((formats, format) => {\r\n      // Format ID is a numeric index.\r\n      // There're some standard \"built-in\" formats (in Excel) up to about `100`.\r\n      formats[format.id] = format\r\n      return formats\r\n    }, [])\r\n\r\n  const getCellStyle = (xf) => {\r\n    if (xf.hasAttribute('xfId')) {\r\n      return {\r\n        ...baseStyles[xf.xfId],\r\n        ...parseCellStyle(xf, numberFormats)\r\n      }\r\n    }\r\n    return parseCellStyle(xf, numberFormats)\r\n  }\r\n\r\n  return getCellStyles(doc).map(getCellStyle)\r\n}\r\n\r\nfunction parseNumberFormatStyle(numFmt) {\r\n  return {\r\n    id: numFmt.getAttribute('numFmtId'),\r\n    template: numFmt.getAttribute('formatCode')\r\n  }\r\n}\r\n\r\n// http://www.datypic.com/sc/ooxml/e-ssml_xf-2.html\r\nfunction parseCellStyle(xf, numFmts) {\r\n  const style = {}\r\n  if (xf.hasAttribute('numFmtId')) {\r\n    const numberFormatId = xf.getAttribute('numFmtId')\r\n    // Built-in number formats don't have a `<numFmt/>` element in `styles.xml`.\r\n    // https://hexdocs.pm/xlsxir/number_styles.html\r\n    if (numFmts[numberFormatId]) {\r\n      style.numberFormat = numFmts[numberFormatId]\r\n    } else {\r\n      style.numberFormat = { id: numberFormatId }\r\n    }\r\n  }\r\n  return style\r\n}","// Parses an Excel Date (\"serial\") into a corresponding javascript Date in UTC+0 timezone.\r\n// (with time equal to 00:00)\r\n//\r\n// https://www.pcworld.com/article/3063622/software/mastering-excel-date-time-serial-numbers-networkdays-datevalue-and-more.html\r\n// \"If you need to calculate dates in your spreadsheets,\r\n//  Excel uses its own unique system, which it calls Serial Numbers\".\r\n//\r\nexport default function parseExcelDate(excelSerialDate, options) {\r\n  // https://support.microsoft.com/en-gb/help/214330/differences-between-the-1900-and-the-1904-date-system-in-excel\r\n  if (options && options.epoch1904) {\r\n    excelSerialDate += 1462\r\n  }\r\n\r\n  // \"Excel serial date\" is just\r\n  // the count of days since `01/01/1900`\r\n  // (seems that it may be even fractional).\r\n  //\r\n  // The count of days elapsed\r\n  // since `01/01/1900` (Excel epoch)\r\n  // till `01/01/1970` (Unix epoch).\r\n  // Accounts for leap years\r\n  // (19 of them, yielding 19 extra days).\r\n  const daysBeforeUnixEpoch = 70 * 365 + 19\r\n\r\n  // An hour, approximately, because a minute\r\n  // may be longer than 60 seconds, due to \"leap seconds\".\r\n  //\r\n  // Still, Javascript `Date` (and UNIX time in general) intentionally\r\n  // drops the concept of \"leap seconds\" in order to make things simpler.\r\n  // So it's fine.\r\n  // https://stackoverflow.com/questions/53019726/where-are-the-leap-seconds-in-javascript\r\n  //\r\n  // \"The JavaScript Date object specifically adheres to the concept of Unix Time\r\n  //  (albeit with higher precision). This is part of the POSIX specification,\r\n  //  and thus is sometimes called \"POSIX Time\". It does not count leap seconds,\r\n  //  but rather assumes every day had exactly 86,400 seconds. You can read about\r\n  //  this in section 20.3.1.1 of the current ECMAScript specification, which states:\r\n  //\r\n  //  \"Time is measured in ECMAScript in milliseconds since 01 January, 1970 UTC.\r\n  //   In time values leap seconds are ignored. It is assumed that there are exactly\r\n  //   86,400,000 milliseconds per day.\"\r\n  //\r\n  //  The fact is, that the unpredictable nature of leap seconds makes them very\r\n  //  difficult to work with in APIs. One can't generally pass timestamps around\r\n  //  that need leap seconds tables to be interpreted correctly, and expect that\r\n  //  one system will interpret them the same as another. For example, while your\r\n  //  example timestamp 1483228826 is 2017-01-01T00:00:00Z on your system,\r\n  //  it would be interpreted as 2017-01-01T00:00:26Z on POSIX based systems,\r\n  //  or systems without leap second tables. So they aren't portable.\r\n  //  Even on systems that have full updated tables, there's no telling what those\r\n  //  tables will contain in the future (beyond the 6-month IERS announcement period),\r\n  //  so I can't produce a future timestamp without risk that it may eventually change.\r\n  //\r\n  //  To be clear - to support leap seconds in a programming language, the implementation\r\n  //  must go out of its way to do so, and must make tradeoffs that are not always acceptable.\r\n  //  Though there are exceptions, the general position is to not support them - not because\r\n  //  of any subversion or active countermeasures, but because supporting them properly is much,\r\n  //  much harder.\"\r\n  //\r\n  // https://en.wikipedia.org/wiki/Unix_time#Leap_seconds\r\n  // https://en.wikipedia.org/wiki/Leap_year\r\n  // https://en.wikipedia.org/wiki/Leap_second\r\n  //\r\n  const hour = 60 * 60 * 1000\r\n\r\n  return new Date(Math.round((excelSerialDate - daysBeforeUnixEpoch) * 24 * hour))\r\n}","// XLSX does have \"d\" type for dates, but it's not commonly used.\r\n// Instead, it prefers using \"n\" type for storing dates as timestamps.\r\n//\r\n// Whether a numeric value is a number or a date timestamp, it sometimes could be\r\n// detected by looking at the value \"format\" and seeing if it's a date-specific one.\r\n// https://github.com/catamphetamine/read-excel-file/issues/3#issuecomment-395770777\r\n//\r\n// The list of generic numeric value \"formats\":\r\n// https://xlsxwriter.readthedocs.io/format.html#format-set-num-format\r\n//\r\nexport default function isDateTimestamp(styleId, styles, options) {\r\n  if (styleId) {\r\n    const style = styles[styleId]\r\n    if (!style) {\r\n      throw new Error(`Cell style not found: ${styleId}`)\r\n    }\r\n    if (!style.numberFormat) {\r\n      return false\r\n    }\r\n    if (\r\n      // Whether it's a \"number format\" that's conventionally used for storing date timestamps.\r\n      BUILT_IN_DATE_NUMBER_FORMAT_IDS.indexOf(Number(style.numberFormat.id)) >= 0 ||\r\n      // Whether it's a \"number format\" that uses a \"formatting template\"\r\n      // that the developer is certain is a date formatting template.\r\n      (options.dateFormat && style.numberFormat.template === options.dateFormat) ||\r\n      // Whether the \"smart formatting template\" feature is not disabled\r\n      // and it has detected that it's a date formatting template by looking at it.\r\n      (options.smartDateParser !== false && style.numberFormat.template && isDateTemplate(style.numberFormat.template))\r\n     ) {\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\n// https://hexdocs.pm/xlsxir/number_styles.html\r\nconst BUILT_IN_DATE_NUMBER_FORMAT_IDS = [14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57]\r\n\r\n// On some date formats, there's an \"[$-414]\" prefix.\r\n// I don't have any idea what that is.\r\n//\r\n// https://stackoverflow.com/questions/4730152/what-indicates-an-office-open-xml-cell-contains-a-date-time-value\r\n//\r\n// Examples:\r\n//\r\n// * 27 (built-in format) \"[$-404]e/m/d\"\r\n// * 164 (custom format) \"[$-414]mmmm\\ yyyy;@\"\r\n//\r\nconst DATE_FORMAT_WEIRD_PREFIX = /^\\[\\$-414\\]/\r\n\r\n// On some date formats, there's an \";@\" postfix.\r\n// I don't have any idea what that is.\r\n// Examples:\r\n//\r\n// * 164 (custom format) \"m/d/yyyy;@\"\r\n// * 164 (custom format) \"[$-414]mmmm\\ yyyy;@\"\r\n//\r\nconst DATE_FORMAT_WEIRD_POSTFIX = /;@$/\r\n\r\nfunction isDateTemplate(template) {\r\n  // Date format tokens could be in upper case or in lower case.\r\n  // There seems to be no single standard.\r\n  // So lowercase the template first.\r\n  template = template.toLowerCase()\r\n\r\n  // On some date formats, there's an \"[$-414]\" prefix.\r\n  // I don't have any idea what that is. Trim it.\r\n  template = template.replace(DATE_FORMAT_WEIRD_PREFIX, '')\r\n\r\n  // On some date formats, there's an \";@\" postfix.\r\n  // I don't have any idea what that is. Trim it.\r\n  template = template.replace(DATE_FORMAT_WEIRD_POSTFIX, '')\r\n\r\n  const tokens = template.split(/\\W+/)\r\n  for (const token of tokens) {\r\n    if (DATE_TEMPLATE_TOKENS.indexOf(token) < 0) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\n// These tokens could be in upper case or in lower case.\r\n// There seems to be no single standard, so using lower case.\r\nconst DATE_TEMPLATE_TOKENS = [\r\n  // Seconds (min two digits). Example: \"05\".\r\n  'ss',\r\n  // Minutes (min two digits). Example: \"05\". Could also be \"Months\". Weird.\r\n  'mm',\r\n  // Hours. Example: \"1\".\r\n  'h',\r\n  // Hours (min two digits). Example: \"01\".\r\n  'hh',\r\n  // \"AM\" part of \"AM/PM\". Lowercased just in case.\r\n  'am',\r\n  // \"PM\" part of \"AM/PM\". Lowercased just in case.\r\n  'pm',\r\n  // Day. Example: \"1\"\r\n  'd',\r\n  // Day (min two digits). Example: \"01\"\r\n  'dd',\r\n  // Month (numeric). Example: \"1\".\r\n  'm',\r\n  // Month (numeric, min two digits). Example: \"01\". Could also be \"Minutes\". Weird.\r\n  'mm',\r\n  // Month (shortened month name). Example: \"Jan\".\r\n  'mmm',\r\n  // Month (full month name). Example: \"January\".\r\n  'mmmm',\r\n  // Two-digit year. Example: \"20\".\r\n  'yy',\r\n  // Full year. Example: \"2020\".\r\n  'yyyy',\r\n\r\n  // I don't have any idea what \"e\" means.\r\n  // It's used in \"built-in\" XLSX formats:\r\n  // * 27 '[$-404]e/m/d';\r\n  // * 36 '[$-404]e/m/d';\r\n  // * 50 '[$-404]e/m/d';\r\n  // * 57 '[$-404]e/m/d';\r\n  'e'\r\n];","import parseDate from './parseDate.js'\r\nimport isDateTimestamp from './isDateTimestamp.js'\r\n\r\n// Parses a string `value` of a cell.\r\nexport default function parseCellValue(value, type, {\r\n  getInlineStringValue,\r\n  getInlineStringXml,\r\n  getStyleId,\r\n  styles,\r\n  values,\r\n  properties,\r\n  options\r\n}) {\r\n  if (!type) {\r\n    // Default cell type is \"n\" (numeric).\r\n    // http://www.datypic.com/sc/ooxml/t-ssml_CT_Cell.html\r\n    type = 'n'\r\n  }\r\n\r\n  // Available Excel cell types:\r\n  // https://github.com/SheetJS/sheetjs/blob/19620da30be2a7d7b9801938a0b9b1fd3c4c4b00/docbits/52_datatype.md\r\n  //\r\n  // Some other document (seems to be old):\r\n  // http://webapp.docx4java.org/OnlineDemo/ecma376/SpreadsheetML/ST_CellType.html\r\n  //\r\n  switch (type) {\r\n    // XLSX tends to store all strings as \"shared\" (indexed) ones\r\n    // using \"s\" cell type (for saving on strage space).\r\n    // \"str\" cell type is then generally only used for storing\r\n    // formula-pre-calculated cell values.\r\n    case 'str':\r\n      value = parseString(value, options)\r\n      break\r\n\r\n    // Sometimes, XLSX stores strings as \"inline\" strings rather than \"shared\" (indexed) ones.\r\n    // Perhaps the specification doesn't force it to use one or another.\r\n    // Example: `<sheetData><row r=\"1\"><c r=\"A1\" s=\"1\" t=\"inlineStr\"><is><t>Test 123</t></is></c></row></sheetData>`.\r\n    case 'inlineStr':\r\n      value = getInlineStringValue()\r\n      if (value === undefined) {\r\n        throw new Error(`Unsupported \"inline string\" cell value structure: ${getInlineStringXml()}`)\r\n      }\r\n      value = parseString(value, options)\r\n      break\r\n\r\n    // XLSX tends to store string values as \"shared\" (indexed) ones.\r\n    // \"Shared\" strings is a way for an Excel editor to reduce\r\n    // the file size by storing \"commonly used\" strings in a dictionary\r\n    // and then referring to such strings by their index in that dictionary.\r\n    // Example: `<sheetData><row r=\"1\"><c r=\"A1\" s=\"1\" t=\"s\"><v>0</v></c></row></sheetData>`.\r\n    case 's':\r\n      // If a cell has no value then there's no `<c/>` element for it.\r\n      // If a `<c/>` element exists then it's not empty.\r\n      // The `<v/>`alue is a key in the \"shared strings\" dictionary of the\r\n      // XLSX file, so look it up in the `values` dictionary by the numeric key.\r\n      const sharedStringIndex = Number(value)\r\n      if (isNaN(sharedStringIndex)) {\r\n        throw new Error(`Invalid \"shared\" string index: ${value}`)\r\n      }\r\n      if (sharedStringIndex >= values.length) {\r\n        throw new Error(`An out-of-bounds \"shared\" string index: ${value}`)\r\n      }\r\n      value = values[sharedStringIndex]\r\n      value = parseString(value, options)\r\n      break\r\n\r\n    // Boolean (TRUE/FALSE) values are stored as either \"1\" or \"0\"\r\n    // in cells of type \"b\".\r\n    case 'b':\r\n      if (value === '1') {\r\n        value = true\r\n      } else if (value === '0') {\r\n        value = false\r\n      } else {\r\n        throw new Error(`Unsupported \"boolean\" cell value: ${value}`)\r\n      }\r\n      break\r\n\r\n    // XLSX specification seems to support cells of type \"z\":\r\n    // blank \"stub\" cells that should be ignored by data processing utilities.\r\n    case 'z':\r\n      value = undefined\r\n      break\r\n\r\n    // XLSX specification also defines cells of type \"e\" containing a numeric \"error\" code.\r\n    // It's not clear what that means though.\r\n    // They also wrote: \"and `w` property stores its common name\".\r\n    // It's unclear what they meant by that.\r\n    case 'e':\r\n      value = decodeError(value)\r\n      break\r\n\r\n    // XLSX supports date cells of type \"d\", though seems like it (almost?) never\r\n    // uses it for storing dates, preferring \"n\" numeric timestamp cells instead.\r\n    // The value of a \"d\" cell is supposedly a string in \"ISO 8601\" format.\r\n    // I haven't seen an XLSX file having such cells.\r\n    // Example: `<sheetData><row r=\"1\"><c r=\"A1\" s=\"1\" t=\"d\"><v>2021-06-10T00:47:45.700Z</v></c></row></sheetData>`.\r\n    case 'd':\r\n      if (value === undefined) {\r\n        break\r\n      }\r\n      const parsedDate = new Date(value)\r\n      if (isNaN(parsedDate.valueOf())) {\r\n        throw new Error(`Unsupported \"date\" cell value: ${value}`)\r\n      }\r\n      value = parsedDate\r\n      break\r\n\r\n    // Numeric cells have type \"n\".\r\n    case 'n':\r\n      if (value === undefined) {\r\n        break\r\n      }\r\n      const isDateTimestampNumber = isDateTimestamp(getStyleId(), styles, options)\r\n      // XLSX does have \"d\" type for dates, but it's not commonly used.\r\n      // Instead, it prefers using \"n\" type for storing dates as timestamps.\r\n      if (isDateTimestampNumber) {\r\n        // Parse the number from string.\r\n        value = parseNumberDefault(value)\r\n        // Parse the number as a date timestamp.\r\n        value = parseDate(value, properties)\r\n      } else {\r\n        // Parse the number from string.\r\n        // Supports custom parsing function to work around javascript number encoding precision issues.\r\n        // https://gitlab.com/catamphetamine/read-excel-file/-/issues/85\r\n        value = (options.parseNumber || parseNumberDefault)(value)\r\n      }\r\n      break\r\n\r\n    default:\r\n      throw new TypeError(`Cell type not supported: ${type}`)\r\n  }\r\n\r\n  // Convert empty values to `null`.\r\n  if (value === undefined) {\r\n    value = null\r\n  }\r\n\r\n  return value\r\n}\r\n\r\n// Decodes numeric error code to a string code.\r\n// https://github.com/SheetJS/sheetjs/blob/19620da30be2a7d7b9801938a0b9b1fd3c4c4b00/docbits/52_datatype.md\r\nfunction decodeError(errorCode) {\r\n  // While the error values are determined by the application,\r\n  // the following are some example error values that could be used:\r\n  switch (errorCode) {\r\n    case 0x00:\r\n      return '#NULL!'\r\n    case 0x07:\r\n      return '#DIV/0!'\r\n    case 0x0F:\r\n      return '#VALUE!'\r\n    case 0x17:\r\n      return '#REF!'\r\n    case 0x1D:\r\n      return '#NAME?'\r\n    case 0x24:\r\n      return '#NUM!'\r\n    case 0x2A:\r\n      return '#N/A'\r\n    case 0x2B:\r\n      return '#GETTING_DATA'\r\n    default:\r\n      // Such error code doesn't exist. I made it up.\r\n      return `#ERROR_${errorCode}`\r\n  }\r\n}\r\n\r\nfunction parseString(value, options) {\r\n  // In some weird cases, a developer might want to disable\r\n  // the automatic trimming of all strings.\r\n  // For example, leading spaces might express a tree-like hierarchy.\r\n  // https://github.com/catamphetamine/read-excel-file/pull/106#issuecomment-1136062917\r\n  if (options.trim !== false) {\r\n    value = value.trim()\r\n  }\r\n  if (value === '') {\r\n    value = undefined\r\n  }\r\n  return value\r\n}\r\n\r\n// Parses a number from string.\r\n// Throws an error if the number couldn't be parsed.\r\n// When parsing floating-point number, is affected by\r\n// the javascript number encoding precision issues:\r\n// https://www.youtube.com/watch?v=2gIxbTn7GSc\r\n// https://www.avioconsulting.com/blog/overcoming-javascript-numeric-precision-issues\r\nfunction parseNumberDefault(stringifiedNumber) {\r\n  const parsedNumber = Number(stringifiedNumber)\r\n  if (isNaN(parsedNumber)) {\r\n    throw new Error(`Invalid \"numeric\" cell value: ${stringifiedNumber}`)\r\n  }\r\n  return parsedNumber\r\n}","// Maps \"A1\"-like coordinates to `{ row, column }` numeric coordinates.\r\nconst LETTERS = [\"\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"]\r\n\r\nexport function calculateDimensions (cells) {\r\n  const comparator = (a, b) => a - b\r\n  const allRows = cells.map(cell => cell.row).sort(comparator)\r\n  const allCols = cells.map(cell => cell.column).sort(comparator)\r\n  const minRow = allRows[0]\r\n  const maxRow = allRows[allRows.length - 1]\r\n  const minCol = allCols[0]\r\n  const maxCol = allCols[allCols.length - 1]\r\n\r\n  return [\r\n    { row: minRow, column: minCol },\r\n    { row: maxRow, column: maxCol }\r\n  ]\r\n}\r\n\r\n// Converts a letter coordinate to a digit coordinate.\r\n// Examples: \"A\" -> 1, \"B\" -> 2, \"Z\" -> 26, \"AA\" -> 27, etc.\r\nfunction columnLettersToNumber(columnLetters) {\r\n  // `for ... of ...` would require Babel polyfill for iterating a string.\r\n  let n = 0\r\n  let i = 0\r\n  while (i < columnLetters.length) {\r\n    n *= 26\r\n    n += LETTERS.indexOf(columnLetters[i])\r\n    i++\r\n  }\r\n  return n\r\n}\r\n\r\nexport function parseCellCoordinates(coords) {\r\n  // Coordinate examples: \"AA2091\", \"R988\", \"B1\".\r\n  coords = coords.split(/(\\d+)/)\r\n  return [\r\n    // Row.\r\n    parseInt(coords[1]),\r\n    // Column.\r\n    columnLettersToNumber(coords[0].trim())\r\n  ]\r\n}","import parseCellValue from './parseCellValue.js'\r\n\r\nimport {\r\n  parseCellCoordinates\r\n} from './coordinates.js'\r\n\r\nimport {\r\n  getCellValue,\r\n  getCellInlineStringValue\r\n} from '../xml/xlsx.js'\r\n\r\nimport {\r\n  getOuterXml\r\n} from '../xml/dom.js'\r\n\r\n// Example of a `<c/>`ell element:\r\n//\r\n// <c>\r\n//    <f>string</f>  formula.\r\n//    <v>string</v>  formula pre-computed value.\r\n//    <is>\r\n//       <t>string</t>  an `inlineStr` string (rather than a \"common string\" from a dictionary).\r\n//       <r>\r\n//          <rPr>\r\n//            ...\r\n//          </rPr>\r\n//          <t>string</t>\r\n//       </r>\r\n//       <rPh sb=\"1\" eb=\"1\">\r\n//          <t>string</t>\r\n//       </rPh>\r\n//       <phoneticPr fontId=\"1\"/>\r\n//    </is>\r\n//    <extLst>\r\n//       <ext>\r\n//          <!--any element-->\r\n//       </ext>\r\n//    </extLst>\r\n// </c>\r\n//\r\nexport default function parseCell(node, sheet, xml, values, styles, properties, options) {\r\n  const coords = parseCellCoordinates(node.getAttribute('r'))\r\n\r\n  const valueElement = getCellValue(sheet, node)\r\n\r\n  // For `xpath`, `value` can be `undefined` while for native `DOMParser` it's `null`.\r\n  // So using `value && ...` instead of `if (value !== undefined) { ... }` here\r\n  // for uniform compatibility with both `xpath` and native `DOMParser`.\r\n  let value = valueElement && valueElement.textContent\r\n\r\n  let type\r\n  if (node.hasAttribute('t')) {\r\n    type = node.getAttribute('t')\r\n  }\r\n\r\n  return {\r\n    row: coords[0],\r\n    column: coords[1],\r\n    value: parseCellValue(value, type, {\r\n      getInlineStringValue: () => getCellInlineStringValue(sheet, node),\r\n      getInlineStringXml: () => getOuterXml(node),\r\n      getStyleId: () => node.getAttribute('s'),\r\n      styles,\r\n      values,\r\n      properties,\r\n      options\r\n    })\r\n  }\r\n}","import parseCell from './parseCell.js'\r\n\r\nimport {\r\n  getCells,\r\n  getMergedCells\r\n} from '../xml/xlsx.js'\r\n\r\nexport default function parseCells(sheet, xml, values, styles, properties, options) {\r\n  const cells = getCells(sheet)\r\n\r\n  if (cells.length === 0) {\r\n    return []\r\n  }\r\n\r\n  // const mergedCells = getMergedCells(sheet)\r\n  // for (const mergedCell of mergedCells) {\r\n  //   const [from, to] = mergedCell.split(':').map(parseCellCoordinates)\r\n  //   console.log('Merged Cell.', 'From:', from, 'To:', to)\r\n  // }\r\n\r\n  return cells.map((node) => {\r\n    return parseCell(node, sheet, xml, values, styles, properties, options)\r\n  })\r\n}","import {\r\n  parseCellCoordinates\r\n} from './coordinates.js'\r\n\r\nimport {\r\n  getDimensions\r\n} from '../xml/xlsx.js'\r\n\r\n// `dimensions` defines the spreadsheet area containing all non-empty cells.\r\n// https://docs.microsoft.com/en-us/dotnet/api/documentformat.openxml.spreadsheet.sheetdimension?view=openxml-2.8.1\r\nexport default function parseDimensions(sheet) {\r\n  let dimensions = getDimensions(sheet)\r\n  if (dimensions) {\r\n    dimensions = dimensions.split(':').map(parseCellCoordinates).map(([row, column]) => ({\r\n      row,\r\n      column\r\n    }))\r\n    // Sometimes there can be just a single cell as a spreadsheet's \"dimensions\".\r\n    // For example, the default \"dimensions\" in Apache POI library is \"A1\",\r\n    // meaning that only the first cell in the spreadsheet is used.\r\n    //\r\n    // A quote from Apache POI library:\r\n    // \"Single cell ranges are formatted like single cell references (e.g. 'A1' instead of 'A1:A1').\"\r\n    //\r\n    if (dimensions.length === 1) {\r\n      dimensions = [dimensions[0], dimensions[0]]\r\n    }\r\n    return dimensions\r\n  }\r\n}\r\n\r\n","import dropEmptyRows from './dropEmptyRows.js'\r\nimport dropEmptyColumns from './dropEmptyColumns.js'\r\n\r\nexport default function getData(sheet, options) {\r\n  const { dimensions, cells } = sheet\r\n\r\n  // If the sheet is empty.\r\n  if (cells.length === 0) {\r\n    return []\r\n  }\r\n\r\n  const [leftTop, rightBottom] = dimensions\r\n\r\n  // Don't discard empty rows or columns at the start.\r\n  // https://github.com/catamphetamine/read-excel-file/issues/102\r\n  // const colsCount = (rightBottom.column - leftTop.column) + 1\r\n  // const rowsCount = (rightBottom.row - leftTop.row) + 1\r\n\r\n  const colsCount = rightBottom.column\r\n  const rowsCount = rightBottom.row\r\n\r\n  // Initialize spreadsheet data structure.\r\n  let data = new Array(rowsCount)\r\n  let i = 0\r\n  while (i < rowsCount) {\r\n    data[i] = new Array(colsCount)\r\n    let j = 0\r\n    while (j < colsCount) {\r\n      data[i][j] = null\r\n      j++\r\n    }\r\n    i++\r\n  }\r\n\r\n  // Fill in spreadsheet `data`.\r\n  // (this code implies that `cells` aren't necessarily sorted by row and column:\r\n  //  maybe that's not correct, this piece code was initially copy-pasted\r\n  //  from some other library that used `XPath`)\r\n  for (const cell of cells) {\r\n    // Don't discard empty rows or columns at the start.\r\n    // https://github.com/catamphetamine/read-excel-file/issues/102\r\n    // const rowIndex = cell.row - leftTop.row\r\n    // const columnIndex = cell.column - leftTop.column\r\n    const rowIndex = cell.row - 1\r\n    const columnIndex = cell.column - 1\r\n    // Ignore the data in the cell if it's outside of the spreadsheet's \"dimensions\".\r\n    if (columnIndex < colsCount && rowIndex < rowsCount) {\r\n      data[rowIndex][columnIndex] = cell.value\r\n    }\r\n  }\r\n\r\n  // Fill in the row map.\r\n  const { rowMap } = options\r\n  if (rowMap) {\r\n    let i = 0\r\n    while (i < data.length) {\r\n      rowMap[i] = i\r\n      i++\r\n    }\r\n  }\r\n\r\n  // Drop empty columns or rows.\r\n  data = dropEmptyRows(\r\n    dropEmptyColumns(data, { onlyTrimAtTheEnd: true }),\r\n    { onlyTrimAtTheEnd: true, rowMap }\r\n  )\r\n\r\n  // Optionally transform data before applying `schema`.\r\n  if (options.transformData) {\r\n    data = options.transformData(data)\r\n    // data = options.transformData(data, {\r\n    //   dropEmptyRowsAndColumns(data) {\r\n    //     return dropEmptyRows(dropEmptyColumns(data), { rowMap })\r\n    //   }\r\n    // })\r\n  }\r\n\r\n  return data\r\n}","export default function dropEmptyRows(data, {\r\n  rowMap,\r\n  accessor = _ => _,\r\n  onlyTrimAtTheEnd\r\n} = {}) {\r\n  // Drop empty rows.\r\n  let i = data.length - 1\r\n  while (i >= 0) {\r\n    // Check if the row is empty.\r\n    let empty = true\r\n    for (const cell of data[i]) {\r\n      if (accessor(cell) !== null) {\r\n        empty = false\r\n        break\r\n      }\r\n    }\r\n    // Remove the empty row.\r\n    if (empty) {\r\n      data.splice(i, 1)\r\n      if (rowMap) {\r\n        rowMap.splice(i, 1)\r\n      }\r\n    } else if (onlyTrimAtTheEnd) {\r\n      break\r\n    }\r\n    i--\r\n  }\r\n  return data\r\n}","export default function dropEmptyColumns(data, {\r\n  accessor = _ => _,\r\n  onlyTrimAtTheEnd\r\n} = {}) {\r\n  let i = data[0].length - 1\r\n  while (i >= 0) {\r\n    let empty = true\r\n    for (const row of data) {\r\n      if (accessor(row[i]) !== null) {\r\n        empty = false\r\n        break\r\n      }\r\n    }\r\n    if (empty) {\r\n      let j = 0;\r\n      while (j < data.length) {\r\n        data[j].splice(i, 1)\r\n        j++\r\n      }\r\n    } else if (onlyTrimAtTheEnd) {\r\n      break\r\n    }\r\n    i--\r\n  }\r\n  return data\r\n}","import parseProperties from './parseProperties.js'\r\nimport parseFilePaths from './parseFilePaths.js'\r\nimport parseStyles from './parseStyles.js'\r\nimport parseSharedStrings from './parseSharedStrings.js'\r\nimport parseSheet from './parseSheet.js'\r\nimport getData from './getData.js'\r\n\r\n// For an introduction in reading `*.xlsx` files see \"The minimum viable XLSX reader\":\r\n// https://www.brendanlong.com/the-minimum-viable-xlsx-reader.html\r\n\r\n/**\r\n * Reads an (unzipped) XLSX file structure into a 2D array of cells.\r\n * @param  {object} contents - A list of XML files inside XLSX file (which is a zipped directory).\r\n * @param  {number?} options.sheet - Workbook sheet id (`1` by default).\r\n * @param  {string?} options.dateFormat - Date format, e.g. \"mm/dd/yyyy\". Values having this format template set will be parsed as dates.\r\n * @param  {object} contents - A list of XML files inside XLSX file (which is a zipped directory).\r\n * @return {object} An object of shape `{ data, cells, properties }`. `data: string[][]` is an array of rows, each row being an array of cell values. `cells: string[][]` is an array of rows, each row being an array of cells. `properties: object` is the spreadsheet properties (e.g. whether date epoch is 1904 instead of 1900).\r\n */\r\nexport default function readXlsx(contents, xml, options = {}) {\r\n  if (!options.sheet) {\r\n    options = {\r\n      sheet: 1,\r\n      ...options\r\n    }\r\n  }\r\n\r\n  const getXmlFileContent = (filePath) => {\r\n    if (!contents[filePath]) {\r\n      throw new Error(`\"${filePath}\" file not found inside the *.xlsx file zip archive`)\r\n    }\r\n    return contents[filePath]\r\n  }\r\n\r\n  // Some Excel editors don't want to use standard naming scheme for sheet files.\r\n  // https://github.com/tidyverse/readxl/issues/104\r\n  const filePaths = parseFilePaths(getXmlFileContent('xl/_rels/workbook.xml.rels'), xml)\r\n\r\n  // Default file path for \"shared strings\": \"xl/sharedStrings.xml\".\r\n  const values = filePaths.sharedStrings\r\n    ? parseSharedStrings(getXmlFileContent(filePaths.sharedStrings), xml)\r\n    : []\r\n\r\n  // Default file path for \"styles\": \"xl/styles.xml\".\r\n  const styles = filePaths.styles\r\n    ? parseStyles(getXmlFileContent(filePaths.styles), xml)\r\n    : {}\r\n\r\n  const properties = parseProperties(getXmlFileContent('xl/workbook.xml'), xml)\r\n\r\n  // A feature for getting the list of sheets in an Excel file.\r\n  // https://github.com/catamphetamine/read-excel-file/issues/14\r\n  if (options.getSheets) {\r\n    return properties.sheets.map(({ name }) => ({\r\n      name\r\n    }))\r\n  }\r\n\r\n  // Find the sheet by name, or take the first one.\r\n  const sheetId = getSheetId(options.sheet, properties.sheets)\r\n\r\n  // If the sheet wasn't found then throw an error.\r\n  // Example: \"xl/worksheets/sheet1.xml\".\r\n  if (!sheetId || !filePaths.sheets[sheetId]) {\r\n    throw createSheetNotFoundError(options.sheet, properties.sheets)\r\n  }\r\n\r\n  // Parse sheet data.\r\n  const sheet = parseSheet(\r\n    getXmlFileContent(filePaths.sheets[sheetId]),\r\n    xml,\r\n    values,\r\n    styles,\r\n    properties,\r\n    options\r\n  )\r\n\r\n  // Get spreadsheet data.\r\n  const data = getData(sheet, options)\r\n\r\n  // Can return properties, if required.\r\n  if (options.properties) {\r\n    return {\r\n      data,\r\n      properties\r\n    }\r\n  }\r\n\r\n  // Return spreadsheet data.\r\n  return data\r\n}\r\n\r\nfunction getSheetId(sheet, sheets) {\r\n  if (typeof sheet === 'number') {\r\n    const _sheet = sheets[sheet - 1]\r\n    return _sheet && _sheet.relationId\r\n  }\r\n  for (const _sheet of sheets) {\r\n    if (_sheet.name === sheet) {\r\n      return _sheet.relationId\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSheetNotFoundError(sheet, sheets) {\r\n  const sheetsList = sheets && sheets.map((sheet, i) => `\"${sheet.name}\" (#${i + 1})`).join(', ')\r\n  return new Error(`Sheet ${typeof sheet === 'number' ? '#' + sheet : '\"' + sheet + '\"'} not found in the *.xlsx file.${sheets ? ' Available sheets: ' + sheetsList + '.' : ''}`)\r\n}","import {\r\n  getSharedStrings\r\n} from '../xml/xlsx.js'\r\n\r\nexport default function parseSharedStrings(content, xml) {\r\n  if (!content) {\r\n    return []\r\n  }\r\n  return getSharedStrings(xml.createDocument(content))\r\n}","import parseCells from './parseCells.js'\r\nimport parseDimensions from './parseDimensions.js'\r\n\r\nimport { calculateDimensions } from './coordinates.js'\r\n\r\nexport default function parseSheet(content, xml, values, styles, properties, options) {\r\n  const sheet = xml.createDocument(content)\r\n\r\n  const cells = parseCells(sheet, xml, values, styles, properties, options)\r\n\r\n  // `dimensions` defines the spreadsheet area containing all non-empty cells.\r\n  // https://docs.microsoft.com/en-us/dotnet/api/documentformat.openxml.spreadsheet.sheetdimension?view=openxml-2.8.1\r\n  const dimensions = parseDimensions(sheet) || calculateDimensions(cells)\r\n\r\n  return { cells, dimensions }\r\n}","export default class InvalidError extends Error {\r\n  constructor(reason) {\r\n    super('invalid')\r\n    this.reason = reason\r\n  }\r\n}","import InvalidError from './InvalidError.js'\r\n\r\nexport default function NumberType(value) {\r\n  // An XLSX file editing software might not always correctly\r\n  // detect numeric values in string-type cells. Users won't bother\r\n  // manually selecting a cell type, so the editing software has to guess\r\n  // based on the user's input. One can assume that such auto-detection\r\n  // might not always work.\r\n  //\r\n  // So, if a cell is supposed to be a numeric one, convert a string value to a number.\r\n  //\r\n  if (typeof value === 'string') {\r\n    const stringifiedValue = value\r\n    value = Number(value)\r\n    if (String(value) !== stringifiedValue) {\r\n      throw new InvalidError('not_a_number')\r\n    }\r\n  }\r\n  if (typeof value !== 'number') {\r\n    throw new InvalidError('not_a_number')\r\n  }\r\n  if (isNaN(value)) {\r\n    throw new InvalidError('invalid_number')\r\n  }\r\n  // At this point, `value` can only be a number.\r\n  //\r\n  // The global `isFinite()` function filters out:\r\n  // * NaN\r\n  // * -Infinity\r\n  // * Infinity\r\n  //\r\n  // All other values pass (including non-numbers).\r\n  //\r\n  if (!isFinite(value)) {\r\n    throw new InvalidError('out_of_bounds')\r\n  }\r\n  return value\r\n}","import InvalidError from './InvalidError.js'\r\n\r\nexport default function StringType(value) {\r\n  if (typeof value === 'string') {\r\n    return value\r\n  }\r\n  // Excel tends to perform a forced automatic convertion of string-type values\r\n  // to number-type ones when the user has input them. Otherwise, users wouldn't\r\n  // be able to perform formula calculations on those cell values because users\r\n  // won't bother manually choosing a \"numeric\" cell type for each cell, and\r\n  // even if they did, choosing a \"numeric\" cell type every time wouldn't be an\r\n  // acceptable \"user experience\".\r\n  //\r\n  // So, if a cell value is supposed to be a string and Excel has automatically\r\n  // converted it to a number, perform a backwards conversion.\r\n  //\r\n  if (typeof value === 'number') {\r\n    if (isNaN(value)) {\r\n      throw new InvalidError('invalid_number')\r\n    }\r\n    // The global `isFinite()` function filters out:\r\n    // * NaN\r\n    // * -Infinity\r\n    // * Infinity\r\n    //\r\n    // All other values pass (including non-numbers).\r\n    //\r\n    if (!isFinite(value)) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    return String(value)\r\n  }\r\n  throw new InvalidError('not_a_string')\r\n}","import InvalidError from './InvalidError.js'\r\n\r\nexport default function BooleanType(value) {\r\n\tif (typeof value === 'boolean') {\r\n    return value\r\n  }\r\n  throw new InvalidError('not_a_boolean')\r\n}","import NumberType from '../../types/Number.js'\r\nimport StringType from '../../types/String.js'\r\nimport BooleanType from '../../types/Boolean.js'\r\nimport DateType from '../../types/Date.js'\r\n\r\nconst DEFAULT_OPTIONS = {\r\n  isColumnOriented: false\r\n}\r\n\r\n/**\r\n * Convert 2D array to nested objects.\r\n * If row oriented data, row 0 is dotted key names.\r\n * Column oriented data is transposed.\r\n * @param {any[][]} data - An array of rows, each row being an array of cells.\r\n * @param {object} schema\r\n * @return {object[]}\r\n */\r\nexport default function(data, schema, options) {\r\n  if (options) {\r\n    options = {\r\n      ...DEFAULT_OPTIONS,\r\n      ...options\r\n    }\r\n  } else {\r\n    options = DEFAULT_OPTIONS\r\n  }\r\n\r\n  const {\r\n    isColumnOriented,\r\n    rowMap,\r\n    ignoreEmptyRows\r\n  } = options\r\n\r\n  validateSchema(schema)\r\n\r\n  if (isColumnOriented) {\r\n    data = transpose(data)\r\n  }\r\n\r\n  const columns = data[0]\r\n\r\n  const results = []\r\n  const errors = []\r\n\r\n  for (let i = 1; i < data.length; i++) {\r\n    const result = read(schema, data[i], i, columns, errors, options)\r\n    if (result !== null || ignoreEmptyRows === false) {\r\n      results.push(result)\r\n    }\r\n  }\r\n\r\n  // Correct error rows.\r\n  if (rowMap) {\r\n    for (const error of errors) {\r\n      // Convert the `row` index in `data` to the\r\n      // actual `row` index in the spreadsheet.\r\n      // `- 1` converts row number to row index.\r\n      // `+ 1` converts row index to row number.\r\n      error.row = rowMap[error.row - 1] + 1\r\n    }\r\n  }\r\n\r\n  return {\r\n    rows: results,\r\n    errors\r\n  }\r\n}\r\n\r\nfunction read(schema, row, rowIndex, columns, errors, options) {\r\n  const object = {}\r\n  let isEmptyObject = true\r\n\r\n  const createError = ({\r\n    column,\r\n    value,\r\n    error: errorMessage,\r\n    reason\r\n  }) => {\r\n    const error = {\r\n      error: errorMessage,\r\n      row: rowIndex + 1,\r\n      column,\r\n      value\r\n    }\r\n    if (reason) {\r\n      error.reason = reason\r\n    }\r\n    if (schema[column].type) {\r\n      error.type = schema[column].type\r\n    }\r\n    return error\r\n  }\r\n\r\n  const pendingRequiredChecks = []\r\n\r\n  for (const key of Object.keys(schema)) {\r\n    const schemaEntry = schema[key]\r\n    const isNestedSchema = typeof schemaEntry.type === 'object' && !Array.isArray(schemaEntry.type)\r\n\r\n    let rawValue = row[columns.indexOf(key)]\r\n    if (rawValue === undefined) {\r\n      rawValue = null\r\n    }\r\n\r\n    let value\r\n    let error\r\n    let reason\r\n\r\n    if (isNestedSchema) {\r\n      value = read(schemaEntry.type, row, rowIndex, columns, errors, options)\r\n    } else {\r\n      if (rawValue === null) {\r\n        value = null\r\n      }\r\n      else if (Array.isArray(schemaEntry.type)) {\r\n        let notEmpty = false\r\n        const array = parseArray(rawValue).map((_value) => {\r\n          const result = parseValue(_value, schemaEntry, options)\r\n          if (result.error) {\r\n            value = _value\r\n            error = result.error\r\n            reason = result.reason\r\n          }\r\n          if (result.value !== null) {\r\n            notEmpty = true\r\n          }\r\n          return result.value\r\n        })\r\n        if (!error) {\r\n          value = notEmpty ? array : null\r\n        }\r\n      } else {\r\n        const result = parseValue(rawValue, schemaEntry, options)\r\n        error = result.error\r\n        reason = result.reason\r\n        value = error ? rawValue : result.value\r\n      }\r\n    }\r\n\r\n    if (!error && value === null) {\r\n      if (typeof schemaEntry.required === 'function') {\r\n        pendingRequiredChecks.push({ column: key })\r\n      } else if (schemaEntry.required === true) {\r\n        error = 'required'\r\n      }\r\n    }\r\n\r\n    if (error) {\r\n      errors.push(createError({\r\n        column: key,\r\n        value,\r\n        error,\r\n        reason\r\n      }))\r\n    } else {\r\n      if (isEmptyObject && value !== null) {\r\n        isEmptyObject = false\r\n      }\r\n      if (value !== null || options.includeNullValues) {\r\n        object[schemaEntry.prop] = value\r\n      }\r\n    }\r\n  }\r\n\r\n  if (isEmptyObject) {\r\n    return null\r\n  }\r\n\r\n  for (const { column } of pendingRequiredChecks) {\r\n    const required = schema[column].required(object)\r\n    if (required) {\r\n      errors.push(createError({\r\n        column,\r\n        value: null,\r\n        error: 'required'\r\n      }))\r\n    }\r\n  }\r\n\r\n  return object\r\n}\r\n\r\n/**\r\n * Converts textual value to a javascript typed value.\r\n * @param  {any} value\r\n * @param  {object} schemaEntry\r\n * @return {{ value: any, error: string }}\r\n */\r\nexport function parseValue(value, schemaEntry, options) {\r\n  if (value === null) {\r\n    return { value: null }\r\n  }\r\n  let result\r\n  if (schemaEntry.parse) {\r\n    result = parseCustomValue(value, schemaEntry.parse)\r\n  } else if (schemaEntry.type) {\r\n    result = parseValueOfType(\r\n      value,\r\n      // Supports parsing array types.\r\n      // See `parseArray()` function for more details.\r\n      // Example `type`: String[]\r\n      // Input: 'Barack Obama, \"String, with, colons\", Donald Trump'\r\n      // Output: ['Barack Obama', 'String, with, colons', 'Donald Trump']\r\n      Array.isArray(schemaEntry.type) ? schemaEntry.type[0] : schemaEntry.type,\r\n      options\r\n    )\r\n  } else {\r\n    result = { value: value }\r\n    // throw new Error('Invalid schema entry: no .type and no .parse():\\n\\n' + JSON.stringify(schemaEntry, null, 2))\r\n  }\r\n  // If errored then return the error.\r\n  if (result.error) {\r\n    return result\r\n  }\r\n  if (result.value !== null) {\r\n    if (schemaEntry.oneOf && schemaEntry.oneOf.indexOf(result.value) < 0) {\r\n      return { error: 'invalid', reason: 'unknown' }\r\n    }\r\n    if (schemaEntry.validate) {\r\n      try {\r\n        schemaEntry.validate(result.value)\r\n      } catch (error) {\r\n        return { error: error.message }\r\n      }\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n * Converts textual value to a custom value using supplied `.parse()`.\r\n * @param  {any} value\r\n * @param  {function} parse\r\n * @return {{ value: any, error: string }}\r\n */\r\nfunction parseCustomValue(value, parse) {\r\n  try {\r\n    value = parse(value)\r\n    if (value === undefined) {\r\n      return { value: null }\r\n    }\r\n    return { value }\r\n  } catch (error) {\r\n    const result = { error: error.message }\r\n    if (error.reason) {\r\n      result.reason = error.reason;\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\n/**\r\n * Converts textual value to a javascript typed value.\r\n * @param  {any} value\r\n * @param  {} type\r\n * @return {{ value: (string|number|Date|boolean), error: string, reason?: string }}\r\n */\r\nfunction parseValueOfType(value, type, options) {\r\n  switch (type) {\r\n    case String:\r\n      return parseCustomValue(value, StringType)\r\n\r\n    case Number:\r\n      return parseCustomValue(value, NumberType)\r\n\r\n    case Date:\r\n      return parseCustomValue(value, (value) => DateType(value, { properties: options.properties }))\r\n\r\n    case Boolean:\r\n      return parseCustomValue(value, BooleanType)\r\n\r\n    default:\r\n      if (typeof type === 'function') {\r\n        return parseCustomValue(value, type)\r\n      }\r\n      throw new Error(`Unsupported schema type: ${type && type.name || type}`)\r\n  }\r\n}\r\n\r\nexport function getBlock(string, endCharacter, startIndex) {\r\n  let i = 0\r\n  let substring = ''\r\n  let character\r\n  while (startIndex + i < string.length) {\r\n    const character = string[startIndex + i]\r\n    if (character === endCharacter) {\r\n      return [substring, i]\r\n    }\r\n    else if (character === '\"') {\r\n      const block = getBlock(string, '\"', startIndex + i + 1)\r\n      substring += block[0]\r\n      i += '\"'.length + block[1] + '\"'.length\r\n    }\r\n    else {\r\n      substring += character\r\n      i++\r\n    }\r\n  }\r\n  return [substring, i]\r\n}\r\n\r\n/**\r\n * Parses a string of comma-separated substrings into an array of substrings.\r\n * (the `export` is just for tests)\r\n * @param  {string} string  A string of comma-separated substrings.\r\n * @return {string[]} An array of substrings.\r\n */\r\nexport function parseArray(string) {\r\n  const blocks = []\r\n  let index = 0\r\n  while (index < string.length) {\r\n    const [substring, length] = getBlock(string, ',', index)\r\n    index += length + ','.length\r\n    blocks.push(substring.trim())\r\n  }\r\n  return blocks\r\n}\r\n\r\n// Transpose a 2D array.\r\n// https://stackoverflow.com/questions/17428587/transposing-a-2d-array-in-javascript\r\nconst transpose = array => array[0].map((_, i) => array.map(row => row[i]))\r\n\r\nfunction validateSchema(schema) {\r\n  for (const key of Object.keys(schema)) {\r\n    const entry = schema[key]\r\n    if (!entry.prop) {\r\n      throw new Error(`\"prop\" not defined for schema entry \"${key}\".`)\r\n    }\r\n  }\r\n}","import parseDate from '../read/parseDate.js'\r\nimport InvalidError from './InvalidError.js'\r\n\r\nexport default function DateType(value, { properties }) {\r\n\t// XLSX has no specific format for dates.\r\n  // Sometimes a date can be heuristically detected.\r\n  // https://github.com/catamphetamine/read-excel-file/issues/3#issuecomment-395770777\r\n  if (value instanceof Date) {\r\n    if (isNaN(value.valueOf())) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    return value\r\n  }\r\n  if (typeof value === 'number') {\r\n    if (isNaN(value)) {\r\n      throw new InvalidError('invalid_number')\r\n    }\r\n    if (!isFinite(value)) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    const date = parseDate(value, properties)\r\n    if (isNaN(date.valueOf())) {\r\n      throw new InvalidError('out_of_bounds')\r\n    }\r\n    return date\r\n  }\r\n  throw new InvalidError('not_a_date')\r\n}","export default function convertMapToSchema(map) {\r\n\tconst schema = {}\r\n\tfor (const key of Object.keys(map)) {\r\n\t\tlet prop = map[key]\r\n\t\tlet type\r\n\t\tif (typeof prop === 'object') {\r\n\t\t\tprop = Object.keys(map[key])[0]\r\n\t\t\ttype = convertMapToSchema(map[key][prop])\r\n\t\t}\r\n\t\tschema[key] = {\r\n\t\t\tprop\r\n\t\t}\r\n\t\tif (type) {\r\n\t\t\tschema[key].type = type\r\n\t\t}\r\n\t}\r\n\treturn schema\r\n}","import readXlsx from './readXlsx.js'\r\n\r\nimport convertToJson from './schema/convertToJson.js'\r\nimport convertMapToSchema from './schema/convertMapToSchema.js'\r\n\r\nexport default function readXlsxFileContents(entries, xml, { schema, map, ...options}) {\r\n\tif (!schema && map) {\r\n\t\tschema = convertMapToSchema(map)\r\n\t}\r\n\tconst result = readXlsx(entries, xml, { ...options, properties: schema || options.properties })\r\n\tif (schema) {\r\n\t\treturn convertToJson(result.data, schema, { ...options, properties: result.properties })\r\n\t}\r\n\treturn result\r\n}","import xml from '../xml/xmlBrowser.js'\r\n\r\nimport unpackXlsxFile from './unpackXlsxFileBrowser.js'\r\nimport readXlsxFileContents from './readXlsxFileContents.js'\r\n\r\n/**\r\n * Reads XLSX file into a 2D array of cells in a browser.\r\n * @param  {file} file - A file being uploaded in the browser.\r\n * @param  {object?} options\r\n * @param  {(number|string)?} options.sheet - Excel document sheet to read. Defaults to `1`. Will only read this sheet and skip others.\r\n * @return {Promise} Resolves to a 2D array of cells: an array of rows, each row being an array of cells.\r\n */\r\nexport default function readXlsxFile(file, options = {}) {\r\n\treturn unpackXlsxFile(file)\r\n\t\t.then((entries) => readXlsxFileContents(entries, xml, options))\r\n}"],"names":["_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","createSvgIcon","_jsx","getChipUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","ChipRoot","styled","name","overridesResolver","props","styles","ownerState","color","iconColor","clickable","onDelete","size","variant","concat","chipClasses","avatar","capitalize","icon","deleteIcon","root","deletable","_ref","theme","textColor","palette","mode","grey","_extends","maxWidth","fontFamily","typography","fontSize","pxToRem","display","alignItems","justifyContent","height","vars","text","primary","backgroundColor","action","selected","borderRadius","whiteSpace","transition","transitions","create","cursor","outline","textDecoration","border","padding","verticalAlign","boxSizing","disabled","opacity","disabledOpacity","pointerEvents","marginLeft","marginRight","width","Chip","defaultAvatarColor","avatarColorPrimary","contrastText","dark","avatarColorSecondary","secondary","avatarSmall","defaultIconColor","WebkitTapHighlightColor","primaryChannel","alpha","margin","contrastTextChannel","main","focusVisible","selectedChannel","selectedOpacity","focusOpacity","_ref2","userSelect","hoverOpacity","boxShadow","shadows","_ref3","defaultBorder","hover","focus","iconSmall","deleteIconSmall","mainChannel","ChipLabel","label","_ref4","overflow","textOverflow","paddingLeft","paddingRight","isDeleteKeyboardEvent","keyboardEvent","key","React","inProps","ref","useThemeProps","avatarProp","className","clickableProp","component","ComponentProp","deleteIconProp","iconProp","onClick","onKeyDown","onKeyUp","tabIndex","skipFocusWhenDisabled","other","_objectWithoutPropertiesLoose","chipRef","handleRef","useForkRef","handleDeleteIconClick","event","stopPropagation","ButtonBase","classes","slots","composeClasses","useUtilityClasses","moreProps","focusVisibleClassName","disableRipple","clsx","CancelIcon","_jsxs","as","undefined","currentTarget","target","preventDefault","current","blur","children","getDialogActionsUtilityClass","DialogActionsRoot","disableSpacing","spacing","flex","getDialogContentTextUtilityClass","DialogContentTextRoot","Typography","shouldForwardProp","prop","rootShouldForwardProp","composedClasses","getDialogContentUtilityClass","DialogContentRoot","dividers","WebkitOverflowScrolling","overflowY","borderTop","divider","borderBottom","dialogTitleClasses","paddingTop","e","k","Object","is","a","b","l","useState","m","useEffect","n","useLayoutEffect","p","useDebugValue","r","getSnapshot","value","f","u","window","document","createElement","inst","c","g","useSyncExternalStore","h","q","t","useRef","v","useMemo","w","useSyncExternalStoreWithSelector","hasValue","module","createStoreImpl","createState","state","listeners","Set","setState","partial","replace","nextState","previousState","assign","forEach","listener","getState","api","subscribe","add","delete","destroy","console","warn","clear","createStore","ReactExports","useSyncExternalStoreExports","useStoreWithEqualityFn","selector","arguments","length","equalityFn","slice","getServerState","createWithEqualityFnImpl","defaultEqualityFn","useBoundStoreWithEqualityFn","shallow$1","objA","objB","Map","get","has","keysA","keys","i","prototype","hasOwnProperty","call","cosh","x","Math","exp","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","sqrt","b0","b1","r0","r1","s","coshr0","sinh","duration","SQRT2","_","_1","max","_2","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","bind","setTimeout","clearNow","Timer","this","_call","_time","_next","timer","callback","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","constructor","TypeError","emptyOn","dispatch","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","node","id","index","group","timing","schedules","__transition","self","tween","schedule","start","j","o","on","__data__","tick","Array","ease","init","Error","set","active","empty","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","push","number","translate","scale","join","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","createElementNS","setAttribute","transform","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","splice","tweenFunction","tweenValue","_id","each","apply","factory","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","NaN","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","min","round","toString","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","basis","v0","v1","v2","v3","t3","define","copy","channels","displayable","formatHex8","formatHsl","pow","clamp","linear","gamma","y","nogamma","exponential","constant","rgbGamma","end","colorRgb","rgbSpline","spline","colors","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","one","zero","interpolateNumber","interpolateRgb","interpolateString","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","interpolate","value1","string00","interpolate0","string1","string0","getAttribute","attrConstantNS","getAttributeNS","attrFunction","string10","attrFunctionNS","attrTweenNS","i0","setAttributeNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Selection","selection","styleRemove","style","removeProperty","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","select","subgroups","subnode","subgroup","selectAll","selectorAll","child","inherit","selectChild","selectChildren","filter","match","matcher","merge","groups0","groups1","m0","merges","group0","group1","id0","id1","nodes","on0","on1","sit","split","every","indexOf","onFunction","attr","namespace","priority","styleTween","styleNull","styleFunction","listener0","remove","styleMaybeRemove","styleConstant","setProperty","styleInterpolate","textContent","textFunction","textConstant","textTween","textInterpolate","parentNode","removeChild","removeFunction","easeConstant","easeVarying","that","Promise","resolve","reject","cancel","interrupt","Symbol","iterator","defaultTiming","ZoomEvent","type","sourceEvent","defineProperties","enumerable","configurable","Transform","point","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","map","rescaleY","nopropagation","stopImmediatePropagation","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","ownerSVGElement","hasAttribute","viewBox","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","StoreContext","createContext","Provider$1","Provider","errorMessages","error001","error002","error003","nodeType","error004","error005","error006","error007","error009","error008","sourceHandle","edge","targetHandle","error010","error011","edgeType","error012","zustandErrorMessage","useStore","store","useContext","useStoreApi","selector$g","userSelectionActive","Panel","position","rest","positionClasses","cc","Attribution","proOptions","hideAttribution","href","rel","EdgeText$1","memo","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","edgeRef","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","textBbox","getBBox","visibility","rx","ry","getDimensions","offsetWidth","offsetHeight","val","clampPosition","calcAutoPanVelocity","abs","calcAutoPan","pos","bounds","getHostForElement","element","_element$getRootNode","_window","getRootNode","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","_ref5","nodeToRect","positionAbsolute","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","isRectObject","obj","isNumeric","isFinite","internalsSymbol","for","elementSelectionKeys","devWarn","message","process","isInputDOMNode","_kbEvent$composedPath","kbEvent","isReactKeyboardEvent","nativeEvent","composedPath","includes","nodeName","closest","isMouseEvent","getEventPosition","_event$touches","_event$touches2","_bounds$left","_bounds$top","isMouseTriggered","evtX","clientX","touches","evtY","clientY","left","top","isMacOs","_navigator","userAgent","BaseEdge","_ref6","path","labelX","labelY","markerEnd","markerStart","interactionWidth","fill","strokeOpacity","strokeWidth","displayName","getMouseHandler$1","handler","edges","find","getEdgeCenter","_ref7","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","getBezierEdgeCenter","_ref8","sourceControlX","sourceControlY","targetControlX","targetControlY","centerY","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getControl","_ref9","x1","y1","Left","Right","getSimpleBezierPath","_ref10","sourcePosition","Bottom","targetPosition","Top","offsetX","offsetY","SimpleBezierEdge","_ref11","handleDirections","getDirection","_ref12","distance","getSmoothStepPath","_ref14","offset","points","_ref13","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getPoints","reduce","res","segment","bendSize","xDir","yDir","getBend","SmoothStepEdge","_ref15","pathOptions","StepEdge","_props$pathOptions2","_props$pathOptions","StraightEdge","_ref17","_ref16","getStraightPath","calculateControlOffset","curvature","getControlWithCurvature","_ref18","getBezierPath","_ref19","BezierEdge","_ref20","NodeIdContext","Consumer","useNodeId","getEdgeId","_ref21","getMarkerId","marker","rfId","idPrefix","sort","addEdge","edgeParams","connectionExists","some","el","pointToRendererPoint","_ref22","_ref23","snapToGrid","_ref24","tx","ty","tScale","snapX","snapY","rendererPointToPoint","_ref25","_ref26","getNodePositionWithOrigin","_node$width","_node$height","nodeOrigin","getNodesBounds","box","currBox","getNodesInside","nodeInternals","rect","partially","excludeNonSelectableNodes","paneRect","visibleNodes","selectable","hidden","nodeRect","overlappingArea","dragging","getConnectedEdges","nodeIds","getViewportForBounds","minZoom","maxZoom","xZoom","yZoom","clampedZoom","getD3Transition","getHandles","handleBounds","currentHandle","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","nodeId","nullConnection","defaultResult","handleDomNode","isValid","connection","endHandle","isValidHandle","handle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleToCheck","querySelector","result","handleType","getHandleType","handleNodeId","handleId","connectable","classList","contains","connectableEnd","Strict","edgeUpdaterType","resetRecentHandle","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","_ref31","onConnect","onEdgeUpdateEnd","domNode","autoPanOnConnect","connectionRadius","onConnectStart","panBy","getNodes","cancelConnection","closestHandle","autoPanId","clickedHandle","elementFromPoint","containerBounds","getBoundingClientRect","prevActiveHandle","connectionPosition","autoPanStarted","handleLookup","_ref30","sourceHandles","targetHandles","getHandleLookup","autoPan","xMovement","yMovement","onPointerMove","validHandleResult","handles","validator","handleBelow","elementsFromPoint","closestHandles","minDistance","hasValidHandle","_ref27","hasTargetHandle","_ref28","_ref29","getClosestHandle","connectionEndHandle","toggle","onPointerUp","_getState$onConnectEn","_getState","onConnectEnd","cancelAnimationFrame","removeEventListener","connectionNodeId","connectionHandleId","connectionHandleType","connectionStartHandle","addEventListener","alwaysValid","selector$f","connectOnClick","noPanClassName","Handle","forwardRef","_ref32","isConnectable","isConnectableStart","isConnectableEnd","onMouseDown","onTouchStart","shallow","connecting","clickConnecting","connectingSelector","startHandle","connectionClickStartHandle","clickHandle","_store$getState$onErr","_store$getState","onError","onConnectExtended","params","defaultEdgeOptions","onConnectAction","hasDefaultEdges","setEdges","onPointerDown","connectablestart","connectableend","connectionindicator","onClickConnectStart","onClickConnectEnd","isValidConnectionStore","isValidConnectionHandler","Handle$1","DefaultNode","_ref33","data","DefaultNode$1","InputNode","_ref34","InputNode$1","OutputNode","_ref35","OutputNode$1","GroupNode","selector$e","selectedNodes","selectedEdges","selectId","areEqual","SelectionListener","_ref36","onSelectionChange","fn","changeSelector","Wrapper$1","_ref37","storeHasSelectionChange","selector$d","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","_ref38","defaultNodes","defaultEdges","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","nodeDragThreshold","edgesWithDefaults","ariaLiveStyle","clip","clipPath","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","ariaLiveMessage","AriaLiveMessage","_ref39","A11yDescriptions","_ref40","disableKeyboardA11y","useKeyPress","keyCode","options","actInsideInputWithModifier","keyPressed","setKeyPressed","modifierPressed","pressedKeys","keyCodes","keysToWatch","isArray","kc","keysFlat","item","downHandler","metaKey","shiftKey","keyOrCode","useKeyOrCode","code","isMatchingKey","upHandler","resetHandler","isUp","eventCode","calculateXYZPosition","_result$x","_result$y","_parentNode$internals","_parentNode$internals2","_result$z","_parentNode$internals3","_parentNode$internals4","_result$z2","parentNodePosition","z","updateAbsoluteNodePositions","parentNodes","_node$internalsSymbol","_node$internalsSymbol2","isParent","createNodeInternals","nextNodeInternals","selectedNodeZ","_currInternals$intern","zIndex","currInternals","internals","defineProperty","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","initial","_options$nodes","isVisible","includeHiddenNodes","optionNode","nodesInitialized","_options$minZoom","_options$maxZoom","_options$padding","nextTransform","zoomIdentity","handleControlledNodeSelectionChange","nodeChanges","change","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","_ref41","changedNodes","changedEdges","hasDefaultNodes","noop","initialViewportHelper","zoomIn","zoomOut","zoomTo","getZoom","setViewport","getViewport","setCenter","fitBounds","project","screenToFlowPosition","flowToScreenPosition","viewportInitialized","selector$b","useViewportHelper","viewportHelperFunctions","scaleBy","zoomLevel","scaleTo","_transform$x","_transform$y","_transform$zoom","nextZoom","_options$padding2","domX","domY","relativePosition","rendererPosition","useReactFlow","viewportHelper","useCallback","getNode","getEdges","getEdge","payload","nextNodes","nextEdges","addNodes","addEdges","toObject","viewport","deleteElements","_ref42","nodesDeleted","edgesDeleted","edgeIds","nodesToRemove","parentHit","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","currNodeRect","isNodeIntersecting","area","deleteKeyOptions","containerStyle","eventToFlowTransform","eventTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","wheelDelta","factor","selector$a","d3ZoomHandler","ZoomPane","_ref44","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","zoomOnDoubleClick","defaultViewport","zoomActivationKeyCode","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","zoomActivationKeyPressed","mouseButton","isPanScrolling","panScrollTimeout","rendererNode","resizeObserver","updateDimensions","_store$getState$onErr2","_store$getState2","ResizeObserver","observe","unobserve","useResizeHandler","bbox","d3ZoomInstance","touchstarting","touchfirst","touchending","constrain","touchable","scaleExtent","interpolateZoom","touchDelay","wheelDelay","clickDistance2","tapDistance","property","wheeled","passive","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","args","clean","__zooming","Gesture","taps","_len","_key","pointer","wheel","mouse","noevent","_len2","_key2","view","moved","x0","y0","dragEnable","dragDisable","_len3","_key3","changedTouches","k1","_len4","_key4","started","identifier","touch0","touch1","_len5","_key5","l0","l1","dp","dl","_len6","_key6","hypot","collection","translateBy","translateTo","emit","datum","clickDistance","updatedTransform","constrainedTransform","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","internal","nextViewport","onViewportChangeStart","onViewportChange","onViewportChangeEnd","_event$sourceEvent","_event$sourceEvent2","flowTransform","paneDragging","_mouseButton$current","_event$sourceEvent3","_mouseButton$current2","prevViewport","viewChanged","zoomScroll","pinchZoom","buttonAllowed","selector$9","userSelectionRect","UserSelection","handleParentExpand","updateItem","extendWidth","extendHeight","_parent$style$width","_parent$style$height","xDiff","yDiff","applyChanges","changes","elements","initElements","currentChanges","currentChange","expandParent","dimensions","updateStyle","resizing","applyNodeChanges","createSelectionChange","getSelectionChanges","items","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","_ref45","isSelecting","selectionMode","Full","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","container","prevSelectedNodesCount","prevSelectedEdgesCount","resetUserSelection","resetSelectedElements","nodesSelectionActive","onWheel","hasActiveSelection","onContextMenu","onMouseEnter","startX","startY","onMouseMove","_userSelectionRect$st","_userSelectionRect$st2","mousePos","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","onMouseUp","onMouseLeave","isParentSelected","hasSelector","nodeRef","_current","matches","parentElement","getDragItems","from","draggable","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","calcNextPosition","nextPosition","clampedNodeExtent","clampNodeExtent","currentExtent","parentX","parentY","parentPosition","getEventHandlerParams","_ref46","dragItems","extentedDragItems","getHandleBounds","nodeElement","querySelectorAll","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","_ref47","unselect","addSelectedNodes","unselectNodesAndEdges","multiSelectionActive","_nodeRef$current","useGetPointerPosition","getPointerPosition","_ref48","pointerPos","xSnapped","ySnapped","wrapSelectionDragFunc","selectionFunc","useDrag","_ref49","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","setDragging","lastPos","mousePosition","dragEvent","dragStarted","updateNodes","_ref50","updateNodePositions","hasChange","nodesBox","adjustedNodeExtent","_n$width","_n$height","updatedPos","onDrag","currentNode","_lastPos$current$x","_lastPos$current$y","startDrag","onStart","_nodeInternals$get","dragHandler","drag","_lastPos$current$x2","_lastPos$current","_lastPos$current$y2","_lastPos$current2","onStop","useUpdateNodePositions","xVelo","yVelo","isShiftPressed","positionDiffX","positionDiffY","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","wrapNode","NodeComponent","NodeWrapper","_ref51","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","isFocusable","dragHandle","initialized","ariaLabel","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","updateNodeDimensions","forceUpdate","role","selector$7","transformString","NodesSelection$1","_ref52","onSelectionContextMenu","_nodeRef$current2","preventScroll","selector$6","FlowRenderer","_ref53","deleteKeyCode","selectionKeyCode","selectionOnDrag","multiSelectionKeyCode","panActivationKeyCode","_panOnScroll","_panOnDrag","selectionKeyPressed","panActivationKeyPressed","_ref43","deleteKeyPressed","multiSelectionKeyPressed","useGlobalKeyHandler","FlowRenderer$1","createNodeTypes","nodeTypes","input","output","selector$5","NodeRenderer","onlyRenderVisible","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","_resizeObserverRef$cu","disconnect","_clampedPosition$x","_clampedPosition$y","_node$width2","_node$height2","_node$internalsSymbol3","_node$internalsSymbol4","_node$internalsSymbol5","focusable","clampedPosition","posX","posY","posOrigin","_ref54","origin","getPositionWithOrigin","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","NodeRenderer$1","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","_ref55","radius","onMouseOut","cx","cy","stroke","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","_ref56","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","isUpdatable","updateHover","setUpdateHover","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","addSelectedEdges","_edgeRef$current","_edgeRef$current2","createEdgeTypes","edgeTypes","straight","bezier","step","smoothstep","simplebezier","getHandlePosition","getHandle","getNodeData","_node$internalsSymbol6","_node$positionAbsolut5","_node$positionAbsolut6","_node$positionAbsolut7","_node$positionAbsolut8","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","sourceNode","targetNode","_ref57","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","isEdgeVisible","maxLevel","levelLookup","tree","hasZIndex","_sourceNode$internals","_targetNode$internals","edgeOrConnectedNodeSelected","selectedZIndex","edgeTree","_ref58","groupEdgesByZLevel","MarkerSymbols","Arrow","_ref59","strokeLinecap","strokeLinejoin","ArrowClosed","_ref60","Marker","_ref61","markerUnits","orient","_store$getState$onErr3","_store$getState3","useMarkerSymbol","markerWidth","markerHeight","refX","refY","MarkerDefinitions","_ref63","defaultColor","markers","_ref62","ids","markerId","localeCompare","markerSelector","MarkerDefinitions$1","selector$4","EdgeRenderer","_ref64","defaultMarkerColor","onEdgeClick","_ref65","_targetHandleBounds$t","_targetHandleBounds$s","sourceNodeRect","sourceHandleBounds","sourceIsValid","targetNodeRect","targetHandleBounds","targetIsValid","targetNodeHandles","updatable","getEdgePositions","sourceHandlePos","targetHandlePos","EdgeRenderer$1","selector$3","Viewport","_ref66","oppositePosition","ConnectionLine","_ref67","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","_fromNode$positionAbs3","_fromNode$positionAbs4","Bezier","CustomComponent","fromNode","toX","toY","fromHandleBounds","Loose","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","connectionLineType","connectionLineStyle","dAttr","pathParams","Step","SmoothStep","SimpleBezier","selector$2","ConnectionLineWrapper","_ref68","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","GraphView","_ref69","onInit","connectionLineComponent","connectionLineContainerStyle","nodeTypesWrapped","edgeTypesWrapped","rfInstance","isInitialized","useOnInitHandler","GraphView$1","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","initialState","fitViewOnInitOptions","createRFStore","createWithEqualityFn","viewportNode","getComputedStyle","m22","DOMMatrixReadOnly","update","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","edgeId","storeEdges","edgesToUnselect","_get$d3Zoom","ReactFlowProvider","_ref70","storeRef","Wrapper","_ref71","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","_ref72","attributionPosition","createUseItemsState","initialItems","setItems","onItemsChange","useNodesState","useEdgesState","ResizeControlVariant","initPrevValues","initStartValues","pointerX","pointerY","aspectRatio","ResizeControl$1","minWidth","minHeight","MAX_VALUE","maxHeight","keepAspectRatio","shouldResize","onResizeStart","onResize","onResizeEnd","contextNodeId","resizeControlRef","startValues","prevValues","defaultPosition","Line","controlPosition","enableX","enableY","_node$position$x","_node$position$y","startWidth","startHeight","startNodeX","startNodeY","prevX","prevY","prevWidth","prevHeight","distX","distY","nextAspectRatio","isDiagonal","isWidthChange","isHeightChange","isXPosChange","isYPosChange","positionChange","dimensionChange","direction","deltaWidth","deltaHeight","nextValues","positionClassNames","colorStyleProp","controlStyle","names","out","tmp","test","Dispatch","typename","types","T","DragEvent","subject","defaultContainer","defaultSubject","mousedownx","mousedowny","mousemoving","gestures","nonpassive","beforestart","mousemoved","nonpassivecapture","mouseupped","nodrag","yesdrag","touch","documentElement","__noselect","MozUserSelect","noclick","capture","childMatcher","prefix","namespaces","xhtml","svg","xlink","xml","xmlns","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","pageX","pageY","arrayAll","childFirst","firstElementChild","EnterNode","ownerDocument","namespaceURI","_parent","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","appendChild","insertBefore","next","propertyRemove","propertyConstant","propertyFunction","classArray","string","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","creatorFixed","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","onAdd","contextListener","dispatchEvent","defaultView","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","childFind","childrenFilter","enterGroup","updateGroup","previous","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","order","context","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","selection_style","classed","html","creator","insert","before","deep","typenames","parseTypenames","styleValue","getPropertyValue","none","createDocument","content","DOMParser","parseFromString","u8","Uint8Array","u16","Uint16Array","u32","Uint32Array","fleb","fdeb","clim","freb","eb","_a","fl","revfl","_b","fd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flrm","fdrm","bits","bits16","shft","slc","BYTES_PER_ELEMENT","subarray","ec","err","ind","msg","nt","captureStackTrace","inflt","dat","buf","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","dsym","et","b2","b4","b8","inflateSync","td","TextDecoder","decode","stream","dutf8","String","fromCharCode","strFromU8","latin1","slzh","zh","fnl","es","z64e","sc","su","off","queueMicrotask","unpackXlsxArrayBuffer","arrayBuffer","contents","opts","files","ze","fltr","c_2","no","originalSize","compression","unzipSync","unzippedFiles","_i","_Object$keys","getContents","findChild","tagName","childNodes","childNode","getTagName","findChildren","results","func","NAMESPACE_REG_EXP","getOuterXml","attributes","getSharedStrings","parseProperties","book","properties","workbookProperties","getWorkbookProperties","epoch1904","sheets","getSheets","sheet","relationId","parseFilePaths","filePaths","sharedStrings","getRelationships","relationship","filePath","getFilePath","parseStyles","baseStyles","cellStyleXfs","getBaseStyles","parseCellStyle","numberFormats","numFmts","getNumberFormats","parseNumberFormatStyle","formats","cellXfs","getCellStyles","xf","_objectSpread","xfId","numFmt","template","numberFormatId","numberFormat","parseExcelDate","excelSerialDate","isDateTimestamp","styleId","BUILT_IN_DATE_NUMBER_FORMAT_IDS","dateFormat","smartDateParser","_step","_iterator","_createForOfIteratorHelperLoose","DATE_FORMAT_WEIRD_PREFIX","DATE_FORMAT_WEIRD_POSTFIX","done","token","DATE_TEMPLATE_TOKENS","isDateTemplate","parseCellValue","getInlineStringValue","getInlineStringXml","getStyleId","parseString","sharedStringIndex","errorCode","decodeError","parsedDate","valueOf","parseDate","parseNumberDefault","parseNumber","stringifiedNumber","parsedNumber","LETTERS","columnLettersToNumber","columnLetters","parseCellCoordinates","coords","parseCell","valueElement","getCellValue","row","column","getCellInlineStringValue","parseCells","cells","sheetData","cell","getCells","parseDimensions","_slicedToArray","getData","_dimensions","rightBottom","colsCount","rowsCount","rowIndex","columnIndex","rowMap","_i2","_ref$accessor","accessor","onlyTrimAtTheEnd","dropEmptyRows","dropEmptyColumns","transformData","readXlsx","getXmlFileContent","parseSharedStrings","sheetId","_sheet","_sheet2","getSheetId","sheetsList","createSheetNotFoundError","comparator","allRows","allCols","minRow","maxRow","calculateDimensions","parseSheet","InvalidError","reason","_this","_classCallCheck","_super","NumberType","stringifiedValue","StringType","BooleanType","DEFAULT_OPTIONS","isColumnOriented","schema","_options","ignoreEmptyRows","_i3","_Object$keys2","validateSchema","transpose","columns","errors","read","error","rows","object","isEmptyObject","createError","errorMessage","pendingRequiredChecks","_loop","schemaEntry","isNestedSchema","_typeof","rawValue","notEmpty","array","blocks","_getBlock2","getBlock","substring","parseArray","parseValue","required","includeNullValues","_pendingRequiredCheck","parseCustomValue","date","DateType","Boolean","parseValueOfType","oneOf","validate","endCharacter","startIndex","_character","block","convertMapToSchema","readXlsxFileContents","_objectWithoutProperties","convertToJson","readXlsxFile","file","File","Blob","then"],"sourceRoot":""}